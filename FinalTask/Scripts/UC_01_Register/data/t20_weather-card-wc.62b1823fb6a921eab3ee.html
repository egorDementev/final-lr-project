"use strict";(self.webpackChunk_msnews_msnews_experiences=self.webpackChunk_msnews_msnews_experiences||[]).push([["weather-card-wc"],{82387:function(e,t,a){a.d(t,{xg:function(){return Oe},Ab:function(){return Fe},zo:function(){return ze},pD:function(){return Ne},ZE:function(){return Re},XF:function(){return We},E2:function(){return Ae},sI:function(){return Pe}});var n=a(57593),r=a(77286),i=a(23549),o=a(82898),s=a(57978),c=a(48578),l=a(51396),d=a(4005),u=a(40850),p=a(45648),h=a(31558),m=a(52924),y=a(53170),g=a(39437),f=a(95379),w=a(21921),v=a(39157);const b="dailyforecast",D="weathercard_followedLocation",x="wathercard_detectedLocation",C="weathercard_addLocation",T="weathercard_removeLocation",S="weathercard_customization",L="weathercard_customization_reportissue",k=g.r9,$=g.oy,I=(e,t,a,n,r="WeatherCard",i=o.uH.StructuredData)=>{const s=o.uH.StructuredData,c=o.wu.Customize,l=o.wu.Navigate,d=o.c9.ActionButton;if(!e||!t)return;const{zone:u}=e.contract||{},p=t.link,h=e.addOrUpdateChild({name:r,content:{type:i,vertical:k,category:$},ext:n}),m=h.addOrUpdateChild,y=(e,t,a)=>m({name:e,behavior:l,type:d,content:{headline:null==a?e:a,type:i,vertical:k,category:$},ext:n,overrideDestinationUrl:t}),g=(e,t,a)=>m({name:e,behavior:c,type:d,content:{headline:null==t?e:t,type:a||i,vertical:k,category:$},ext:n}),f=y("weather_header",p,t.locationName),w=y("weather_location",p,t.locationName),I=y("weather_today",p,t.temperature),M=y(b,p,b),P=y("trendChart",p,"#"),A=g("trendChartNonNav","#"),F=y("boldMatch",p,"#"),N=y("precipchart",p,"#"),W=y("weather_summary",p,"#"),R=y("blandArea",p,"blank_area"),z=y("teaserpanelNav",p),O=y("airQuality",p,t.aqi),V=y("aqPanelNav",p),E=y("multiInfoCardNav",t.weatherState?.currentCondition?.deeplink),H=[],q=[];for(let e=1;e<=5;e++){const t=y("hourlyForecast"+e,p,"#"),a=y(b+e,p,"#");u&&a.contract&&(a.contract.zone=u,t.contract.zone=u),H.push(a.getMetadataTag()),q.push(t.getMetadataTag())}const U=[];for(let e=1;e<=4;e++){const t=m({name:"miniL1Tab"+e,behavior:c,type:d,content:{headline:"#",type:i,vertical:k,category:$},ext:n,destinationUrl:p});U.push(t.getMetadataTag())}const _=y("seefullforecast",p,a.seeFullForecast||""),B=m({name:S,behavior:o.wu.More,type:d,content:{headline:S,type:i,vertical:k,category:$},ext:n}),j=g("weathercard_header_editloc",a.menuEdit),G=g("weathercard_header_dropdown",a.dropdown,s),Q=g(x,x,s),K=g(D,D,s),Z=g(C,C,s),J=g(T,T,s),Y=g("weathercard_closeLocationNotice",a.close,s),X={componentRoot:e,weatherCard:h,headerAnchor:f,locationAnchor:w,currentAnchor:I,dailyForecast:M,dailyForecasts:H,hourlyForecasts:q,miniL1Tabs:U,seeForecastAnchor:_,summaryAnchor:W,precipChart:N,trendChart:P,trendChartNonNav:A,boldMatch:F,blankArea:R,teaserPanelNav:z,editLocation:j,dropdown:G,followedLocation:K,detectedLocation:Q,addLocation:Z,removeLocation:J,switchLocation:g("weathercard_switchLocation",a.addThisLocation,s),closeLocationNotice:Y,actionButton:B,menuEdit:g("weathercard_customization_editloc",a.menuEdit),menuAddLocation:g("weathercard_customization_addloc",a.menuAddLocation),menuF:g("weathercard_customization_F",a.menuF),menuC:g("weathercard_customization_C",a.menuC),menuHide:m({name:"weathercard_customization_hide",behavior:o.wu.Hide,type:d,content:{headline:a.menuHideCard,type:i,vertical:k,category:$},ext:n}),menuHidePopup:g("weathercard_customization_hidepop",a.menuHideCard),menuMore:y("weathercard_customization_more",`https://${v.jG.NavTargetHostName}/${v.jG.CurrentMarket}/feed/personalize/settings`,a.moreSettingOptStr),menuReportIssue:g(L,a.menuReportIssue||L),alertText:y("AlertText",p),airQuality:O,aqiPanelNav:V,multiInfoCardNav:E,hideDlgNonNav:g("hidedlgNnav"),reportIssueNonNav:g("rpissueNnav"),remindSettingNav:y("remindNav",""),ePlantButton:y("e_plant_button",""),ePlantEarthDay:y("e_plant_earth_day","")};if(u)for(const e in X)X[e]?.contract&&(X[e].contract.zone=u);return X};var M=a(94756),P=a(76372),A=a(41653),F=a(94246),N=a(54297),W=a(857),R=a(13334),z=a(27850),O=a(10388),V=a(19628),E=a(7476),H=a(17105);const q={[H.p0.Precipitation]:"precipitation",[H.p0.AQI]:"airquality",[H.p0.Temperature]:"temperature",[H.p0.Pollen]:"pollen",[H.p0.PollenIndex]:"pollenindex",[H.p0.Hurricane]:"hurricane",[H.p0.WildfirePoint]:"wildfire",[H.p0.Lightning]:"radar"},U=new Set(["dailyforecast","eplantSpecialDay","lifeindex","video","aqDashboard"]),_=new Set(["eplantSpecialDay","video","aqDashboard"]);function B(e,t,a){if(!e.enableMinimap||(0,s.KW)(t))return null;let n=!1;n=(0,s.TW)(t)?a?e.isDynamicFeed&&!e.showDynamicDailyHourly&&!U.has(a):e.isDynamicFeed&&!e.showDynamicDailyHourly:!_.has(a);const r=n?H.p0.Temperature:null;switch(a){case"severeweather":return H.p0.SevereWeather;case"nowcastalert":case"nowcast":return H.p0.Precipitation;case"aqi":return H.p0.AQI;case"pollen":return H.p0.Pollen;case"pollenindex":return H.p0.PollenIndex;case"hurricane":return H.p0.Hurricane;case"wildfirepoint":return H.p0.WildfirePoint;case"lightning":return H.p0.Lightning;default:return r}}function j(e,t,a,n){try{const r=q[e];let i="";if(r&&(i=n(r)),e===H.p0.SevereWeather&&t.alertsInfo){const e=t.alertsInfo,a=(0,m.lI)(e.class),r=new Date(e.created),o=e.id+r.getTime()/1e3;i=n(a)+(o?"&alertid="+o:"")}if(e===H.p0.WildfirePoint){const e=a||{},t=e.content&&e.content[0],n=t.metadata&&JSON.parse(t.metadata);n&&(i+="&subs=wildfirepoint&wfid="+n.id)}if(e===H.p0.Hurricane){const e=a||{},t=e.content&&e.content[0],n=t?.destUrl;n&&n.startsWith("{baseurl}")&&(i=n.replace("{baseurl}",i))}return i}catch(e){return i.M0.sendAppErrorEvent({...E.S6L,message:"Failed to build map URL in weather card",pb:{...E.S6L.pb,customMessage:JSON.stringify(e)}}),""}}var G=a(67917),Q=a(45129),K=a(50564),Z=a(92859),J=a(91375),Y=a(17449);function X(e,t){let a=t.rainText;return 1===e?a=t.snowText:2===e&&(a=t.sleetText),a||t.defaultText}const ee=new Map([["rain-low",`${Y.zh}/img/animation/rain-low.png`],["rain-avg",`${Y.zh}/img/animation/rain-avg.png`],["rain-hvy",`${Y.zh}/img/animation/rain-hvy.png`],["sleet-low",`${Y.zh}/img/animation/sleet-low.png`],["sleet-avg",`${Y.zh}/img/animation/sleet-avg.png`],["sleet-hvy",`${Y.zh}/img/animation/sleet-hvy.png`],["snow-low",`${Y.zh}/img/animation/snow-low.png`],["snow-avg",`${Y.zh}/img/animation/snow-avg.png`],["snow-hvy",`${Y.zh}/img/animation/snow-hvy.png`]]);var te=a(74483),ae=a(70127);const ne=/^\/([a-z]{1,}-[a-z]{1,})/i;class re{constructor(e){this.rawURL=e,this.url=new URL(e)}query(){return this.url.searchParams}unit(){return(0,Z.rC)(this.url.searchParams)}market(){const e=ne.exec(this.url.pathname);return e&&e[1]}}function ie(e,t,a){return t.split(",").forEach((t=>{if(t.startsWith("|")){const n=t.split("|");if(n.length<=2)return;if(!n[2].startsWith("/"))return;const i=n[2].split("/"),o=i[1],s=new re(a),c=e.currentCondition.locationRaw,l=s.unit()||e.unit,d=s.market(),u=s.query(),p=u.get("loc"),h=e=>p,m={ocid:u.get("ocid"),cvid:u.get("cvid"),etreeUser:u.get("etreeUser"),etreeTaskID:u.get("etreeTaskID"),locale:d};switch(o){case"maps":if(i.length>2){const e=i[2];a=(0,r.E_)(c,l,h,e,{...m,zoom:u.get("zoom"),"3d":!!u.get("3d"),autoplay:!!u.get("autoplay")})}break;case"life":a=(0,r.zc)(c,l,h,{...m});break;default:a=(0,r.ss)(c,l,h,{...m,linkType:o})}}else a+=t})),a}function oe(e,t){return{type:e,title:t[ce.get(e)]||""}}const se=new Map([["Nowcast",{tabTypes:[p.fd.precipitation,p.fd.map]}],["NowcastNearBy",{tabTypes:[p.fd.map]}],["SevereWeather",{tabTypes:[p.fd.map]}],["AQICard",{tabTypes:[p.fd.map]}],["WildFirePointFullCard",{tabTypes:[p.fd.map]}],["Hurricane",{tabTypes:[p.fd.map]}],["USPollen",{tabTypes:[p.fd.map]}],["EUPollen",{tabTypes:[p.fd.map]}],["JwaPollen",{tabTypes:[p.fd.map]}],["Insights",{tabTypes:[p.fd.trend]}],["TeaserSnowAccCurrent",{tabTypes:[p.fd.nowcastacc]}],["TeaserSnowAccToday",{tabTypes:[p.fd.nowcastacc]}],["TeaserSnowAccNextDays",{tabTypes:[p.fd.nowcastacc]}],["AlertNowcast",{tabTypes:[p.fd.precipitation,p.fd.map]}],["MultiInfo",{tabTypes:[p.fd.multiInfo]}]]),ce=new Map([[p.fd.hourly,"hourly"],[p.fd.daily,"daily"],[p.fd.precipitation,"precip"],[p.fd.map,"map"],[p.fd.trend,"trends"],[p.fd.nowcastacc,"precip"],[p.fd.multiInfo,"multiSeeMore"]]);function le(e,t,a){const n=e.displayContent,r=a||n.contenttype,{config:i,cardSize:o}=e;if(!(0,s.TW)(o))return null;const c=!Array.isArray(i.tkRtMiniL1Type)||Array.isArray(i.tkRtMiniL1Type)&&!((0,M.V4)(r)&&i.tkRtMiniL1Type.includes("Teaser")||i.tkRtMiniL1Type.includes(r)),l=!i.enableBsMiniL1&&(!Array.isArray(i.tkBsMiniL1Type)||Array.isArray(i.tkBsMiniL1Type)&&!((0,M.V4)(r)&&i.tkBsMiniL1Type.includes("Teaser")||i.tkBsMiniL1Type.includes(r)));if(e.isOnRotationalPreview()&&c)return null;if(!e.isOnRotationalPreview()&&l)return null;if(i.aqCardV2Rt&&e.isOnRotationalPreview()&&"AQICard"===r)return null;const d=i?.localizedStrings,u=d?.miniL1;let h=0,m=[oe(p.fd.hourly,u),oe(p.fd.daily,u)];if(se.has(r)){const e=t&&t.nowcasting&&t.nowcasting.precipitation,a=i.disableAnimateMinimap&&Array.isArray(e);h=2;const n=se.get(r),{tabTypes:o}=n;o.forEach((e=>{("Nowcast"!==r&&"AlertNowcast"!==r||a||e!==p.fd.precipitation)&&m.push(oe(e,u))}))}else(0,M.V4)(r)&&(h=Array.isArray(p.LO)&&p.LO.includes(r)?1:0);return m=m.map(((e,t)=>({idx:t,...e}))),{tabIdx:h,tabs:m}}var de=a(49218),ue=a(40378);const pe=new Map([["Insights",{type:null,validator:function(e,t){const a=(0,M.mq)(t);if(!a||!a.cap||!e||!e.currentCondition||!Array.isArray(e.insights)||e.insights.length<1)return!1;const n=a.type?e.insights.find((e=>e.teaserText===a.type)):e.insights.find((e=>e.teaserText===a.title));if(!n)return!1;const{type:r,parameters:i,timeSeries:o,teaserText:c,fullText:l}=n||{};if(!r||!i||!o)return!1;(0,y._M)("climateInsightsType",r);const d=fe(t);(0,Z.cT)(e.currentCondition?.deepLink,"content",d);let u=(0,M.T5)(e,t)({linkType:"records"});r.includes("Snow")?u+="&recordType=BarChartMonthSnow":(r.includes("Rain")||r.includes("Precipitation"))&&(u+="&recordType=BarChartMonthRain");const h=(0,p.ld)(a.capIcon,Y.qF),m=(0,M.ow)([h],"16","","teaser-summary-icon"),g=(0,M.ow)([h],"32","","teaser-summary-icon"),f=le(t,e);let w="miniL1",b=120;const D=n.unitText||"";let x=null,C=null;if(t.isOnRotationalPreview()){const n=new Date(e.forecast?.[0]?.day||null).toLocaleDateString(v.jG.CurrentMarket||"en-us",{year:"numeric",month:"long"});if(r&&r.includes("Temp")){const e=Object.keys(i),a=e.length>0?e.find((e=>e.includes("Temp")&&!e.includes("Average")&&!e.includes("Delta"))):null,r=e.length>0?e.find((e=>e.includes("Average"))):null;C=a&&r?{trendMatchHint:`${c||""}: ${l||""}`,curValue:i[a]+D,curStr:n,offsetValue:i[r]+D,offsetStr:(0,M.ZG)(t)?.historicalAvg}:null}w=C?"matchAndCurve":"curve",b=C?110:150,x={icon:C?m:g,...!C&&{title:n},content:a.cap}}return{...f&&{uxFormat:w,customData:{...f,trendMatchInfo:C,height:b,trendTitle:x,content:a,chartDataType:"insights",showTrendChart:(0,s.TW)(t?.cardSize)}},summaryData:{summaryIcon:m,summaryLine1:a.cap,summaryLink:u,summaryIconSize:16}}}}],["Nowcast",{type:"nowcast",validator:me}],["NowcastNearBy",{type:"nowcast",validator:function(e,t){const a=(0,M.mq)(t);if(!a?.cap)return!1;if(!ye(t.config,e))return!1;const n=e.nowcasting,r=a?.cap??null;if(255===n.nearbyPrecipitationType||!r)return!1;return ge(e,t,r,n.nearbyPrecipitationType)}}],["SevereWeather",{type:"severeweather",validator:we}],["SevereWeather2nd",{type:"severeweather",validator:we}],["SevereWeather#Spotlight",{type:"severeweather",validator:we}],["AlertNowcast",{type:"nowcastalert",validator:function(e,t){const a=me(e,t);if(!a)return!1;const n=we(e,t);if(!n)return!1;let r={};"object"==typeof a&&(r=a);"object"!=typeof n||"object"!=typeof n.summaryData||(0,s.KW)(t.cardSize)||(r.summaryData=n.summaryData);return r}}],["AQICard",{type:"aqi",validator:ve}],["AQICardNew",{type:"aqDashboard",validator:ve}],["Hurricane",{type:"hurricane",validator:be}],["HurricaneAround",{type:"hurricane",validator:be}],["TeaserCard",{type:null,validator:function(e,t){const a=(0,M.mq)(t);if(!a)return!1;const n=a.cap,r=a.moreBtnText||(0,M.ZG)(t).seeFullForecast,i=a.capIcon,o=e.currentCondition.deepLink;let s=a.imgUrl,c=a.destUrl;s&&!s.startsWith("http")&&(s=ie(e,s,o));c&&!c.startsWith("http")&&(c=ie(e,c,o),s=s??c);const l=fe(t);s=(0,Z.cT)(s,"content",l),c=(0,Z.cT)(c,"content",l);const d=(0,p.ld)(i,Y.qF),u=(0,M.ow)([d],"16","","teaser-summary-icon"),h=le(t,e);if(n&&r){const e="nowcastacc"==h?.tabs?.[h.tabIdx||0]?.type;return{...h&&{uxFormat:"miniL1",customData:{...h,...e?{showTrendChart:!0,localizedStrings:(0,M.ZG)(t).nowcastAccu}:{}}},summaryData:{summaryIcon:u,summaryLine1:n,summaryLink:s,summaryIconSize:16},ctaText:r,ctaLink:c}}return!1}}],["WildFirePointFullCard",{type:"wildfirepoint",validator:function(e,t){if(De(t,"Weather_WildFire"))return!1;const a=fe(t),r=(0,M.mq)(t),i=r.metadata&&JSON.parse(r.metadata),o=(0,M.$j)(e,t)("wildfire",{content:a,subs:"wildfirepoint",wfid:i?.id}),c=(0,ue.Y)(),l=c?"darkBg":"lightBg",d=le(t,e),u=t.config;return{...d&&{uxFormat:"miniL1",customData:d},backgroundData:u.enableSuperfeedUx&&!u.isDynamicFeed?he(e,t).backgroundData:{background:c?`url('${n.ZW}')`:`url('${n.EG}')`,enable1u:!0,isCustomized:!0,link:o,isLight:!c,...p.y3[l],...n.Kb[l],...t.isOnRotationalPreview()&&(0,s.TW)(t.cardSize)&&u.tkRtMiniL1Type?.includes("WildFirePointFullCard")&&{btnHintBackground:"rgba(0, 0, 0, 0.03)",btnHoverBackground:"rgba(0, 0, 0, 0.08)",forecastHoverBackground:"rgba(0, 0, 0, 0.08)"}},ctaLink:o,ctaText:(0,M.ZG)(t).seeMoreActionFireText}}}],["WildFirePointCard",{type:"wildfirepoint",validator:function(e,t){const a=fe(t),r=(0,M.mq)(t),i=r.metadata&&JSON.parse(r.metadata),o=(0,M.$j)(e,t)("wildfire",{content:a,subs:"wildfirepoint",wfid:i?.id});return{backgroundData:{background:`url('${n.Pr}')`,isCustomized:!0,link:o,isLight:!0,backgroundMask:"wildfire",...p.y3.lightBg,...n.Kb.lightBg},summaryData:{summaryIcon:(0,M.ow)([(0,p.ld)(Y.ge,Y.qF)],"16",""),summaryLine1:(0,M.ZG)(t).wildfireDefaultTip,summaryLink:o,summaryHint:(0,M.ZG)(t).miniMapSeeMore},ctaLink:o,ctaText:(0,M.ZG)(t).seeMoreActionFireText}}}],["JwaPollen",{type:"pollen",validator:function(e,t){const a=(0,M.mq)(t);if(!a)return!1;const r=t.displayContent,i=r.id,o=(0,ae.xf)(a.capIcon),c=a.imgUrl,l=a.cap;if(!o||!l)return!1;let d,u=(0,M.T5)(e,t)({linkType:"pollen"});i.length>6&&"wxjwap"==i.substr(0,6)&&(u+="&pollenfrom=flyout");if(c&&(0,s.KW)(t.cardSize)){d={background:`url('${V.Ld.Format(c,{n:o})}')`,link:u,isCustomized:!0,enable1u:!1,isLight:!0,...p.y3.lightBg,...n.Kb.lightBg}}const h=le(t,e);return{ctaText:(0,M.ZG)(t).seeFullForecast,...d?{backgroundData:d}:[],...h&&{uxFormat:"miniL1",customData:h},summaryData:(0,s.KW)(t.cardSize)?{summaryIcon:(0,M.ow)([(0,p.Re)(o,r.contenttype)],"16",""),summaryLine1:l,summaryLink:u}:void 0}}}],["USPollen",{type:"pollenindex",validator:xe}],["EUPollen",{type:"pollenindex",validator:xe}],["Storm",{type:"lightning",validator:function(e,t){const a=(0,M.mq)(t);if(!a)return!1;const n=(0,M.$j)(e,t)("radar"),r=(0,p.ld)("FlyoutLightning.svg","weathermapdata/1/static/"),i=de.dy`<div class="weather-lightning-icon" part="weather-lightning-icon"> <img src=${r}> </div>`,o=a.cap??"";let s=0,c=0;for(;s<10;){if(s=o.indexOf(" ",s+1),-1==s||s>10){0==c&&s>10&&(c=s);break}c=s}return{summaryData:{summaryLine1:c?o.substring(0,c):o,summaryLine2:c?o.substring(c+1):null,summaryHint:o,summaryIcon:i,summaryLink:n}}}}],["ForecastVideo",{type:"video",validator:function(e,t){if(t?.deferLoadValidator)return t.deferLoadValidator(e,t);return!1}}]]);function he(e,t){const a=e.currentCondition&&e.currentCondition.normalizedSkyCode,r=e?.forecast?.[0]?.almanac,i=r&&(0,J.Y)(new Date,new Date(r.sunrise),new Date(r.sunset)),o=t.bgMapper?.getBackgroudImage(a,a,i);if(o&&o["background-image"]){const e=t.config.enableAnimationBg?t.bgMapper.getAnimateBackgroundImage(a,a,i):null;return{backgroundData:{background:t.config.enableAnimationBg&&e&&e["background-image"]&&-1!==e["background-image"].indexOf(".gif")&&e?e["background-image"]:o["background-image"],isCustomized:!0,enable1u:!0,isLight:!1,...p.y3.darkBg,...n.Kb.darkBg}}}return null}function me(e,t){if(!ye(t.config,e))return!1;const a=e.nowcasting;return!(!a.isRaining||255===a.weathertype||!a.shortSummary)&&ge(e,t,e.nowcasting?.shortSummary,a.weathertype)}function ye(e,t){return!!(e.enableNowcastingChart&&t&&t.nowcasting&&t.source)}function ge(e,t,a,r){const i=t.config,o=e.currentCondition&&e.currentCondition.normalizedSkyCode,{bgImageIcon:s,animationType:c}=t.bgMapper?.getNowcastingAnimationConfig(o),l=i.enableNowcastAnimation&&c&&ee.has(c)&&t.isAnimationsEnabled,d=t.bgMapper?.getBackgroudImage(l?s:o,o,!1),u=fe(t),h=(0,M.$j)(e,t)("precipitation",{content:u}),m={isCustomized:!0,enable1u:!0,isLight:!1,link:t.baseWeaLink,...d&&d["background-image"]&&{background:d["background-image"]},...l&&{animationSource:ee.get(c)},...p.y3.darkBg,...n.Kb.darkBg};l&&(0,y._M)("WeatherCardAnimationType",c);const g=a||e.currentCondition?.shortCap,f=(0,p.ld)("waterDrop.svg",Y.Mx),w=(0,M.ow)([f],"","water-drop-icon","weather-current-precipitation-glyph"),v=le(t,e);return{...v&&{uxFormat:"miniL1"},customData:{disableAnimateMinimap:i.disableAnimateMinimap,...v},backgroundData:m,...i.enableSuperfeedUx&&{summaryData:{summaryLine1:g,summaryIcon:w,summaryLink:h}},ctaText:X(r,{defaultText:(0,M.ZG)(t)?.seeFullForecast,rainText:i.enableEPlantNowcast?(0,M.ZG)(t)?.seeMoreActionRainTextShort:(0,M.ZG)(t)?.seeMoreActionRainTextV3,snowText:i.enableEPlantNowcast?(0,M.ZG)(t)?.seeMoreActionSnowTextShort:(0,M.ZG)(t)?.seeMoreActionSnowText,sleetText:i.enableEPlantNowcast?(0,M.ZG)(t)?.seeMoreActionSleetTextShort:(0,M.ZG)(t)?.seeMoreActionSleetText}),ctaLink:h}}function fe(e){const t=e.displayContent;return t?V.Ld.Format(n.Ku,{contentType:t.contenttype,contentId:t.id||""}):""}function we(e,t){if(!e.alertsInfo||!e.alertsInfo.abbreviation?.[0]||!(0,m.lI)(e.alertsInfo.class)||De(t,"Weather_SevereWeather"))return!1;const a=(0,M.mq)(t),n=(0,M.yJ)(e.alertsInfo,a);if(!n)return!1;let i=(0,r.iS)(e,(e=>t.bgMapper?.getLocStr(e)));const o=fe(t);i=(0,Z.cT)(i,"content",o);const s=(0,m.dX)(e,new Date,(0,M.ZG)(t).alertTimeFrom,(0,M.ZG)(t).alertTimeUntil,(0,M.ZG)(t).alertTimeIssue),c={summaryIcon:n?.alertIcon,summaryLine1:n?.alertEvent,summaryLine2:n?.alertSig?.toLocaleLowerCase(),summarySupp:s,summaryLink:i,summaryHint:(0,M.ZG)(t).miniMapSeeMore},l=t.isOnRotationalPreview()?{boldUx:{curConditionRight:!0}}:{},d=le(t,e);return{...d&&{uxFormat:"miniL1",customData:d},summaryData:{...c,...l&&!d&&{...l}}}}function ve(e,t){if(!(0,P.Mf)(e.currentCondition.aqi)||!e.currentCondition.aqiSeverity)return;const a=t.config,r=t.displayContent,i=(0,te.$7)(R.Al.Locale.toLowerCase()),o=`${("OT"===i?"US AQI":a.localizedStrings.aqiShortName)||"AQI"} ${e.currentCondition.aqi}`,s=e.currentCondition.aqiSeverity,c=V.Ld.Format(n.Ku,{contentType:r.contenttype,contentId:r.id||""}),l=(0,M.$j)(e,t)("airquality",{content:c}),d=e.currentCondition.aqLevel,u=(0,te.SI)(d,i,a.localizedStrings?.airQuality),h=(0,p.ld)("AqiNoColor.svg",Y.Mx),m={summaryIcon:(0,M.ow)([h],"12","aqi-icon","nocolor-img-aqi"),summaryLine1:a.enableAqNewText?u:o,summaryLine2:a.enableAqNewText?a.localizedStrings?.airQuality?.aqFullName:s,summaryLink:l,summaryHint:s},y=he(e,t).backgroundData;let g={backgroundData:y,summaryData:m};const f={...y,background:`url('${(0,te.sP)(d,"bg")}')`,enable1u:!0,iconInvert:"0%",textColor:"#2B2B2B",forecastHoverBackground:"rgba(255, 255, 255, 0.6)",btnHoverBackground:"rgba(255, 255, 255, 0.6)"},w={boldUx:{curConditionRight:!0}},v=le(t,e);return a.aqCardV2Rt&&t.isOnRotationalPreview()?(g={...g,backgroundData:{...f},summaryData:{...m,summaryIcon:(0,M.ow)([(0,te.sP)(d,"icon")],"","aqi-icon","icon-svg"),summaryLine1:s,summaryLine2:void 0,...w},customData:{adviceText1:a.localizedStrings?.airQuality?.activityAdvice,adviceText2:(0,te.bA)(Number(e.currentCondition.aqi),a.localizedStrings?.airQuality),tooltip:a.localizedStrings?.airQuality?.aqInfoTooltip},ctaText:(0,te.gh)(Number(e.currentCondition.aqi),a.localizedStrings?.airQuality)},g):{...g,...v&&{uxFormat:"miniL1",customData:v}}}function be(e,t){const a=(0,M.mq)(t);if(!a||De(t,"Weather_Hurricane"))return!1;const n=(0,p.ld)(a.capIcon??Y.hl,Y.qF),r=(0,M.ow)([n],"16",""),i=(0,M.$j)(e,t),o=j(H.p0.Hurricane,e,t.displayContent,i),s=a.title?.split(":")[0],c=a.body?.split("|").pop(),l=le(t,e);return s&&c?{...l&&{uxFormat:"miniL1",customData:l},summaryData:{summaryIcon:r,summaryLine1:s,summaryHint:c,summaryLink:o,disable1U:!0}}:{}}function De(e,t){return e.config.ntpPreviewDedup&&e.ntpPreviewType?.startsWith(t)}function xe(e,t){const a=(0,M.mq)(t);if(!a)return!1;const n=t.displayContent,r=(0,ae.xh)(n.id),i=(0,ae.xf)(a.capIcon),o=a.cap;if(!i||!o)return!1;const c=(0,M.T5)(e,t)({linkType:"pollen"})+(r?"&day=2":""),l={summaryIcon:(0,M.ow)([(0,p.Re)(i,n.contenttype)],"16",""),summaryLine1:o,summaryLine2:r?a.title?.toLowerCase()||"pollen tomorrow":(0,M.ZG)(t).pollenCountText||"pollen count",summaryLink:c,showUnderline:!0},d=le(t,e);return{...d&&{uxFormat:"miniL1",customData:d},ctaText:(0,M.ZG)(t).seeFullForecast,summaryData:(0,s.KW)(t.cardSize)?l:void 0}}function Ce(e,t,a){const n=a.config.showMapOnly1u?"normalmap":null,r=pe.get(function(e,t){if(!e)return;const a=t.config;return"AQICard"===e&&a.aqCardV2Rt&&t.isOnRotationalPreview()?"AQICardNew":Array.isArray(a.enableTeaserPanelType)&&a.enableTeaserPanelType.includes(e)&&t.isOnRotationalPreview()&&"small"!==t?.cardSize?"TeaserPanel":new Set(M.Ys).has(e)||e.startsWith("Teaser")?"TeaserCard":e}(e,a)),i=fe(a);t.currentCondition.deepLink=(0,Z.cT)(t.currentCondition.deepLink,"content",i);const o={type:n,content:he(t,a)};if(!r)return o;let s=function(e,t,a){try{return e.validator&&e.validator(t,a)}catch(e){return!1}}(r,t,a);return s="object"!=typeof s||s.disableDefaultBg?s:{...o.content,...s},s?{type:r.type||n,content:s}:o}const Te=["TeaserSnowAccCurrent","TeaserSnowAccToday","TeaserSnowAccNextDays"];var Se=a(39409);const Le="24px";let ke="";const $e="46px",Ie="44px",Me="34px";function Pe(e){ke=e}function Ae(){ke=""}function Fe(){return ke}function Ne(e,t,a=!1){if(!t)return;const{weatherResponse:n,resIdx:r,locIdx:i}=Re(t);n&&n.userProfile&&n.userProfile.location&&We(n,r,i,e,a)}function We(e,t,a,r,o=!1){const s=e.userProfile;s&&function(e,t){const a=e=>e&&e.toString();if(t.sig){const n=t.sig;e.feature=a(n.ft),e.userId=a(n.uid),e.viewedIds=a(n.vids),e.clickedIds=a(n.cids),e.userType=a(n.ut)}t.eplant&&(e.eplantJoin=a(t.eplant.st))}(r.tmpl,s),r.ePlantMuted=!!s&&s.eplant&&2===s.eplant.st;const c=(0,P.Le)(s.location);c&&c.latitude&&c.longitude&&(r.tmpl.latlon=`${c.latitude},${c.longitude}`,r.tmpl.resIdx=t);const l=s.locationSettingMode?Number(s.locationSettingMode):1;let p="0";if((0,h.N)())try{const e=(0,N.$o)();r.declinedLocations=JSON.parse(e.getItem(n.rd)||"[]"),p=e.getItem(n.nc)||"0",r.settingUpdatedLocation=e.getItem(n.x0)?JSON.parse(e.getItem(n.x0)):void 0}catch{r.declinedLocations=[],r.settingUpdatedLocation=void 0}if(r.settingUpdatedLocation&&c){if(!(0,M.Qw)(r.settingUpdatedLocation,c)){const e=e=>`${e.latitude},${e.longitude}->${e.locality}`,t=`Saved: ${e(r.settingUpdatedLocation)}; Current: ${e(c)}`;i.M0.sendAppErrorEvent({...E.zpf,message:"error in experience [weather-card-wc],Fail to get the updated weather location",pb:{...E.zpf.pb,customMessage:t}})}r.settingUpdatedLocation=void 0,(0,N.$o)().removeItem(n.x0)}const m=Date.now()-parseInt(p)>36e5;r.homeLocation=(0,P.Le)(s.home),r.detectedLocation=(0,P.Le)(s.detectedLocation),(m&&r.detectedLocation&&!(0,d.eu)(r.detectedLocation,c,{enforceOnlySmallLocal:!0})&&(0,d.a7)(r.detectedLocation)&&r.detectedLocation.accuracy<=n.ah&&r.detectedLocation.accuracy>0&&0===(r.declinedLocations||[]).filter((e=>(0,d.eu)(e,r.detectedLocation,{enforceOnlySmallLocal:!0}))).length||r.config.forceLocationNotice)&&r.presentLocationNotice();const y=(0,u.Td)(s.followedLocations&&s.followedLocations.map((e=>(0,P.Le)(e))));r.followedLocations=r.config.isDynamicFeed&&r.followedLocations||y;const g=e.responses[0].weather[0];o&&g&&(g.disableFreshCheck=!0),r.bgMapper=(0,G.c)(r,e.cards,a);const f={response:e,location:c,locStrResolver:e=>r.bgMapper?.getLocStr(e)},w=(0,P.zo)(f,!0);w&&w.unit&&ze(r,{...w,pollenForecast:w.pollen,currentLocation:c,locationDetectionSetting:l})}function Re(e){const t=JSON.parse(e);if(!(t&&t.responses&&t.responses.length&&t.userProfile))return{weatherResponse:null,resIdx:null,locIdx:void 0};const{responses:a,userProfile:n}=t,{location:r,followedLocations:i}=n;r&&i&&i.length&&(t.userProfile.home=r);const o=Oe(),s=a.length;o>0&&a[o]&&i&&i[o]&&(t.responses[0]=a[o],t.userProfile.location=i[o]);return{weatherResponse:t,resIdx:`${o}-${s}`,locIdx:o}}function ze(e,t){if(!t||!t.currentCondition)return;const{unit:a,currentLocation:u,profile:h}=t;e.isRotationalPreview=ke&&ke.includes("_TkRt")||!1,e.contentDataList=t.contentData;const v=(0,M.j4)(ke);e.displayContent=t.contentData&&t.contentData[v],e.displayContent?(e.contentType=e.displayContent.contenttype,e.contentId=e.displayContent.id):(e.contentType=null,e.contentId=null);const b=(0,W.ku)()||"",D=i.M0.getRequestId(),x=e.strings,C=e.config;let T=n.VL.NONE;e.userSetUnit&&a&&a!=e.userSetUnit&&(T=e.userSetUnit===f.a.Fahrenheit?n.VL.CTOF:n.VL.FTOC),t=function(e,t){if(t==n.VL.NONE)return e;e.currentCondition.currentTemperature=""+(0,M.qB)(e.currentCondition.currentTemperature,t);for(let a=0;a<e.forecast?.length;a++){const n=e.forecast[a];n.highTemp=n.highTemp&&(0,M.qB)(n.highTemp.toString(),t),n.lowTemp=n.lowTemp&&(0,M.qB)(n.lowTemp.toString(),t),n.hourly?.map((e=>{e.temperature=(0,M.qB)(e.temperature.toString(),t)}))}return e}(t,T);const S=e.userSetUnit||a,L=S===f.a.Fahrenheit?"째F":"째C",k=V.Ld.Format(n.Ku,{contentType:e.contentType||"",contentId:e.contentId||""}),$={excludeOcid:!0,ocid:b,cvid:D,content:k},N=t=>e.bgMapper?.getLocStr(t),E=(0,r.ss)(u,S,N,$),H={excludeOcid:!0,ocid:b,cvid:D,linkType:7,content:k},q=C.linkToHourlyForecast?(0,r.ss)(u,S,N,H):void 0,U=t.currentCondition.skycode?.children?.toString(),_=U&&U.length<=18?U:t.currentCondition?.shortCap??U;let G=C.enableSuperfeedUx?Ie:$e;C.enableLargeSummaryTR&&(G=Me);const Z=O.x.getWeatherGlyphBySymbolOrSkyCode(t.currentCondition.symbol,t.currentCondition.pvdrIcon,C.skycodeIconPath?C.skycodeIconPath:"",t.iconMap),J=(0,M.ow)([Z],G,_);h&&(h.home&&(e.homeLocation=h.home),h.detectedLocation&&(e.detectedLocation=h.detectedLocation));const Y=new z.Q(R.Al.Locale,t.source?.location?.TimezoneName),X=function(e,t,a,n,r){const i=e.config,o=[];if(t.forecast?.length>1&&(t.forecast[0].hourly?.length||t.forecast[1].hourly?.length)){const s=t.forecast[0].hourly.concat(t.forecast[1].hourly).slice(0,5),c=e=>e&&(e.pvdrIcon||e.icon);if(!s.every(c))return o;for(let c=0;c<5&&c<s.length;c++){const l=s[c],d=new Date(l.timeStr),u=l.pvdrIcon?l.pvdrIcon:l.icon+"",h=(0,M.ow)([O.x.getWeatherGlyphBySymbolOrSkyCode(l.symbol,u,i.skycodeIconPath?i.skycodeIconPath:"",t.iconMap)],Le,l?.cap),m=(0,p.TP)(t.forecast[0].hourly.length,c,r),y={itemAriaLabel:e.strings?.forecastListAriaLabel||"",temperature:l.temperature+"",skyCodeIcon:h,hourText:a.formatHourLabel(d),hourOfDay:a.formatHour(d),forecastLink:m||n,precipitation:l.precipitation+"%"};o.push(y)}}return o}(e,t,Y,`${E}&fcsttab=hourly&day=1`,q),ee=function(e,t,a,n){const r=e.config,i=e.strings,o=i.dayOfWeekName,s=[o.sunday,o.monday,o.tuesday,o.wednesday,o.thursday,o.friday,o.saturday],c=i.dayOfWeek,l=[c.sun,c.mon,c.tue,c.wed,c.thu,c.fri,c.sat],d=[];for(let e=0;e<5&&e<t.forecast?.length;e++){const o=t.forecast[e],c=`${n}&day=${e+1}`,u=r.dayOfWeekWithDate?(0,p.se)(o.day,a):l[o.day.getDay()],h={itemAriaLabel:i.forecastListAriaLabel||"",highTempLabel:i.highTempLabel,lowTempLabel:i.lowTempLabel,highTemp:o.highTemp,lowTemp:o.lowTemp,skycodeIcon:(0,M.ow)([O.x.getWeatherGlyphBySymbolOrSkyCode(o.symbol,o.pvdrIcon,r.skycodeIconPath?r.skycodeIconPath:"",t.iconMap)],Le,o.cap),dayOfWeek:0==e?i.dayOfWeek.today:u,dayOfWeekName:0==e?i.dayOfWeekName.today:s[o.day.getDay()],forecastLink:c};d.push(h)}return d}(e,t,Y,E),te=(e.contentId||"")+"|"+e.displayContent?.cid;t.alertsInfo=(0,m.Vt)(t,e.displayContent),function(e,t){if(e.displayContent){e.tmpl.contentId=e.contentId,e.tmpl.contentRank=e.displayContent.ranking?.toString(),e.tmpl.controlFlight=e.displayContent.cf,e.tmpl.cardId=e.displayContent.cid?.toString();const t=e.displayContent.content&&e.displayContent.content[0];t&&(e.tmpl.contentCapIcon=t.capIcon,e.tmpl.contentTitle=t.title)}else e.tmpl.controlFlight=null,e.tmpl.cardId=null;e.tmpl.swIds=(t.contentData||[]).filter((e=>e&&"SevereWeather"==e.contenttype)).map((e=>e.cid)).toString(),e.tmpl.curCondition=(0,F.MP)(t.currentCondition.currentRaw,t.unit),e.tmpl.lastUpdate=t.currentCondition.currentRaw?.created?.toString(),e.tmpl.aqLvl=t.currentCondition.currentRaw?.aqLevel?.toString(),t.pollenForecast&&t.pollenForecast.forecast.length>1&&(e.tmpl.plTdLvl=t.pollenForecast?.forecast[0].level,e.tmpl.plTmrLvl=t.pollenForecast?.forecast[1].level);e.tmpl.normalizedSkyCode=t.currentCondition?.normalizedSkyCode,t.alertsInfo&&(e.tmpl.swDetail=`${t.alertsInfo.class}_${t.alertsInfo.significance}_${t.alertsInfo.id}`);t.nowcasting&&(e.tmpl.nowcastTemplate=t.nowcasting.templateType)}(e,t);const ae=(0,s.KW)(e.cardSize)&&"WildFirePointFullCard"===e.contentType?"WildFirePointCard":e.contentType;e.baseWeaLink=E;const ne=Ce(ae,{...t,unit:S},e);e.primaryCarousel=ne.type,e.teaserProps="object"==typeof ne.content?ne.content:null,function(e,t,a,n){const r=B(e.config,e.cardSize,e.primaryCarousel);if(!r||!t.mapsMetaData||!e.config.slots)return e.defaultMapPageUrl="",void(e.minimap=void 0);const i=a=>(0,M.$j)(t,e)(a,{...n,zoom:8});e.defaultMapPageUrl=j(r,t,e.displayContent,i),e.minimap={mapType:r,weatherData:t,strings:e.strings,cardConfig:e.config,isSmallCard:(0,s.KW)(e.cardSize),displayContent:e.displayContent,teaserProps:e.teaserProps,iconImageTemplate:M.ow,buildMapUrl:i,loadAfterTTVR:e.config.disableMinimapPreload}}(e,t,0,$);const re=function(e,t,a,n){const r=a.displayContent?.contenttype;if(!n||!(0,M.V4)(r)||e.length<2||Te.includes(r))return i.M0.removeTmplProperty(Q.r1),null;const o=[{type:r,content:{}}],s={};for(const e in{...a})s[e.replace("_","")]=a[e];const c=t.currentCondition.deepLink;for(let n=1;n<e.length;n++){const r=e[n];if(!r.content||"AlertNowcast"===r.contenttype)continue;"SevereWeather"===r.contenttype&&(t.alertsInfo=(0,m.Vt)(t,r));const i=Ce(r.contenttype,t,{...s,displayContent:r});i&&"object"==typeof i.content&&i.content.summaryData&&i.content.summaryData.summaryLine1&&i.content.summaryData.summaryIcon&&(i.content.summaryData.summaryLink=i.content.summaryData.summaryLink||t.currentCondition.deepLink,o.push({type:r.contenttype,content:i.content.summaryData,strings:a.config.localizedStrings?.multiInfoCard}))}if(t.currentCondition.deepLink=c,Object.keys(o).length<2)return i.M0.removeTmplProperty(Q.r1),null;if((a.config.enableMultiTeaser||(0,K.SL)("prg-ntp-nmulti")||(0,K.SL)("prg-whp-nmulti"))&&i.M0.addOrUpdateTmplProperty(Q.r1,Object.keys(o).length.toString()),!a.config.enableMultiTeaser)return null;a.config.enableMultiTeaserFallback&&Object.keys(o).length<4&&o.push({type:"Backfill",content:{},strings:a.config.localizedStrings?.multiInfoCard});const l=le(a,t,"MultiInfo");return l&&(n.customData=l,n.uxFormat="miniL1"),o}(t.contentData,{...t,unit:S},e,e.teaserProps),ie=e.teaserProps||{};!function(e,t=0){e.miniL1TabIdx=t,(0,y._M)(p.d5,t+"")}(e,ie&&ie.customData&&ie.customData.tabIdx);const oe=u&&u.displayName,se=(0,w.mH)(u,e.getExperienceType()),ce=C.isDynamicFeed&&e.isOnRotationalPreview()||C.showDynamicDailyHourly?(0,M.an)(e.displayContent,!!e.minimap||!B(e.config,e.cardSize,e.primaryCarousel),X,ee):null;!function(e,t,a,n){if(e.dropdownWeather){const r=(0,d.PE)(t),{currentCondition:i,alertsInfoList:o}=n;let s;o&&o.length>0&&e.handlers?.dropdownAlertIcon&&(s=e.handlers.dropdownAlertIcon(o.length,o[0].significance)),e.dropdownWeather[r]={imageUrl:s?void 0:a,glyph:s,ariaLabel:i.shortCap+", "+i.currentTemperature+"째",badge:e.config.tempDropdown?i.currentTemperature+"째":void 0}}}(e,u,Z,t),e.weatherData={link:E,ctaContent:x.seeFullForecast,locationInfo:u,locationName:oe,shortLocationName:se,locationMode:2===t.locationDetectionSetting?c.E.SpecifyLoc:c.E.AutoDetectLoc,skycodeIcon:J,skycode:_,iconMap:t.iconMap,weatherUnit:S,unitSetting:L,temperature:t.currentCondition.currentTemperature,precipitation:t.currentCondition.precipitation?.children?.toString(),precipitationLabel:x.precipitationMapTooltip,aqi:(0,P.Mf)(t.currentCondition.aqi)&&t.currentCondition.aqi,aqiLabel:x.aqiLabel,forecastData:ee,hourlyForecast:X,nowcasting:t.nowcasting,insights:t.insights,backgroundData:ie.backgroundData,summaryData:ie.summaryData,teaserCustomData:ie.customData,displayContent:e.displayContent,rotationDisplayContentType:ce,defaultMapPageUrl:e.defaultMapPageUrl,uxFormat:ie.uxFormat||"default",showOnlyList:!(C.dailyForecastContent&&C.dailyForecastContent.includes(e.contentType))&&X.length>0,signature:te||(C.isDynamicFeed?"prong2_weather":""),enableLargeSummaryTR:C.enableLargeSummaryTR,multiInfoCardProps:re,weatherState:t},e.addZoneToTelemetry(),(0,y.yE)(e.tmpl,e);const de=(0,y.kp)(e.parentTelemetry?.contract?.ext,te);e.telemetryContext=I(e.telemetryObject,e.weatherData,e.strings,de),e.telemetryObject?.updateContract({...e.telemetryObject.contract,content:{type:o.uH.StructuredData,vertical:g.r9,category:g.oy},ext:de}),!C.enableSuperfeedUx&&e.cardFirstViewReady(),(0,l.WM)(u,null,l.QA.Feed),e.superSDCardProps&&e.superSDCardProps.refreshUx&&e.superSDCardProps.getSuperCardData(),(0,Se.E)(e),(0,A.ae)(t,C.enableIpForecast)}function Oe(){if(!ke)return 0;const e=ke.split("-");if(e.length<2)return 0;const t=e[e.length-2];if(t.startsWith("loc")){const e=parseInt(t.substring(3));return e||0}return 0}},57593:function(e,t,a){a.d(t,{EG:function(){return d},FW:function(){return m},GQ:function(){return x},Kb:function(){return p},Ku:function(){return g},Mp:function(){return D},Nu:function(){return r},Pr:function(){return l},VL:function(){return o},ZW:function(){return u},ah:function(){return b},jy:function(){return i},nS:function(){return y},nc:function(){return v},pY:function(){return h},rd:function(){return f},x0:function(){return w}});var n,r,i,o,s=a(45648);!function(e){e.Small="_1x_2y",e.Medium="_1x_3y",e.Large="_1x_4y"}(n||(n={})),function(e){e[e.FeedOnly=0]="FeedOnly",e[e.FeedFirst=1]="FeedFirst",e[e.Card=2]="Card",e[e.Widget=3]="Widget"}(r||(r={})),function(e){e[e.Preload=0]="Preload",e[e.Forecast=1]="Forecast",e[e.Setting=2]="Setting",e[e.Remind=3]="Remind",e[e.Error=4]="Error"}(i||(i={})),function(e){e[e.NONE=0]="NONE",e[e.FTOC=1]="FTOC",e[e.CTOF=2]="CTOF"}(o||(o={}));const c="weathermapdata/1/static/background/v2.0/",l=(s.I7,`${s.I7}${c}WildfireBackground1.png`),d=`${s.I7}${c}WildfireBackgroundLight.png`,u=`${s.I7}${c}WildfireBackgroundBlk.png`,p={darkBg:{btnHintBackground:"rgba(255, 255, 255, 0.06)",btnHoverBackground:"rgba(255, 255, 255, 0.08)",forecastHoverBackground:"rgba(255, 255, 255, 0.15)"},lightBg:{btnHintBackground:"rgba(255, 255, 255, 0.46)",btnHoverBackground:"rgba(249, 249, 249, 0.65)",forecastHoverBackground:"rgba(255, 255, 255, 0.6)"}},h=Object.freeze({NTP:1,WINHP:2,PRONG2:3,PRONG1:4}),m=Object.freeze({UNKNOWN:0,AAD:1,MSA:2,MUID:3}),y=1500,g="{contentType}_{contentId}",f="DeclinedLocations",w="LastSavedLocation",v="LocationChangeTime",b=1142,D=5e3;var x;!function(e){e.MSA="consumers",e.AAD="organizations"}(x||(x={}))},36684:function(e,t,a){a.d(t,{r:function(){return U}});var n=a(33940),r=a(45648),i=a(57593),o=a(79545),s=a(85205),c=a(62713),l=a(16754),d=a(78254),u=a(73886),p=a(57978),h=a(23549);class m{setPerfMarker(){}}var y=a(7476),g=a(19995),f=a(53170),w=a(99452),v=a(42590),b=a(31558),D=a(78672),x=a(82387),C=a(94756),T=a(67295),S=a(10388),L=a(68250),k=a(45129),$=a(4005),I=a(2848),M=a(94943),P=a(40378),A=a(59717);class F{constructor(e){this.updateSearchLocations=async e=>{const{searchResTooltip:t,searchTooltip:a}=this.card.strings.superSdCard,n=await this.getSearchedInterestOptions(e),r=e&&e.length>0?t:a;this.card.superSDCardData&&this.card.superSDCardData.interestManagerData&&(this.card.superSDCardData.interestManagerData.interestsSuggestionTitle=r),this.card.superSDCardData=(0,p.OS)(this.card.superSDCardData,n)},this.getMyLocations=e=>{const{homeLocation:t,detectedLocation:a,followedLocations:n}=this.card,{handlers:r,strings:i}=this.card,o=(0,M.Dm)(t,a,n,e),s=this.card.telemetryContext;return(0,M.eE)(o,{setPrimaryLocationWithToast:r?.setPrimaryLocationWithToast,removeFollowedLocation:r?.removeFollowedLocation},i,s)},this.getSearchResultInterestOptions=e=>{const{handlers:t,homeLocation:a,followedLocations:n,telemetryContext:r,strings:i}=this.card,o=e||a;return(0,M.BU)(this.searchResult,{home:o,followedLocations:n},{setPrimaryLocationWithToast:t?.setPrimaryLocationWithToast,followLocationWithToast:t?.followLocationWithToast},{...i,intestListFollowNew:i.superSdCard.intestListFollowNew},r)},this.switchToForecastCard=()=>{this.refreshUx=!0,this.card.cardViewMode=i.jy.Forecast;const{shouldCardOverflow:e,sizeChangeHandler:t,parentElement:a}=this.card;e&&(0,l.gK)(a,t,"WeatherSummary",e),this.getSuperCardData()},this.card=e,this.getSuperCardData(),this.refreshUx=!0,(0,I.s)()}getSuperCardData(){const{telemetryObject:e,weatherData:t,cardSize:a,wpoMetadata:n,config:r,isPinned:i,isRotationalPreview:o,actionMenuData:s,miniL1TabIdx:c,handlers:l,strings:d}=this.card;if(!t||!e)return;const u=(0,p.zA)(e,t,(e=>l.handleTabClick(e)),c);this.card.superSDCardData={id:"",gridArea:"",childTemplateType:"sd-card",cardFillColor:(0,P.Y)()?L.Gi.DarkPlum:L.iV.LightBlue,immersiveCard:!1,cardSize:(0,C.kx)(a),headerData:{isEventCard:!0,isWidget:r.isDynamicFeed,isPinned:i,strings:{pinIconToolTip:d.pinnedWidgetText},onActionMenuButtonClick:r.isDynamicFeed?e=>{this.card.handlers?.toggleWeatherCardActions(e)}:void 0,headerLogo:"",title:t.shortLocationName,titleTooltip:{isTitleTooltip:!0,tooltipText:t.locationName},titleNavigationLink:t.link,isActionMenuAvailable:r.enableCardAction,actionMenuData:r.isDynamicFeed?void 0:l?.getActionMenu()||s,isHideCardAvailable:s?.isHideCardAvailable,isMoreSettingAvailable:s?.isMoreSettingAvailable,interestMenuData:this.getInterestMenuData()},footerData:u,isSpotlightCard:o,contextualFeedbackData:n&&n.isGA&&{cFId:n.cfId},enableHoverTelemetry:r.enableHover,parentTelemetryObject:e},this.card.cardFirstViewReady()}getInterestMenuData(){const{weatherData:e,toast:t,homeLocation:a,detectedLocation:n,followedLocations:r}=this.card,i=(0,M.Dm)(a,n,r);(0,f.s3)(k.fB),(0,f._M)(k.fB,i?.length?.toString()||"0");const{handlers:o,strings:s,dropdownWeather:c,config:l}=this.card;l.currIconDropdown&&o?.completeFollowWeather(i.map((([e,t,a])=>e)),this.card);const d=i.map((([a,n,r])=>{const i=(0,$.PE)(a),s=c?.[i];let d="";return n?d=(0,P.Y)()?A.HP:A.IY:r&&(d=(0,P.Y)()?A.ik:A.tE),{id:i,onClick:n?()=>o?.forceRefreshFeed():async()=>{const e=await(o?.temporaryChangeLocationWithToast(a));if(!e)return;const{notificationToastHeader:n,notificationToastActionText:r,onClickActionText:i}=e;t({toastTitle:n,toastButton:r,toastClickAction:i,autoClose:!0})},imageUrl:l.homeIconDropdown?d:"",isFollowed:r,title:u.Gf(a,{skipCountry:!0,skipOldName:!0}),isActive:!(l.homeIconDropdown&&n)&&(0,M.Qw)(a,e?.locationInfo),...s||{}}})),{manageLocations:p,myLocation:h,superSdCard:m}=s;return{followedInterestsTitle:m.interestListDetect,recommendedInterestsTitle:h,interestMenuItems:d,footerMenuItem:{text:p,onClick:()=>this.switchToRecommendPage()},interestMenuToolTip:h}}getInterestManagerDataV2(){const{myLocation:e,superSdCard:t}=this.card.strings;return{illustrationImage:`<img src="${(0,r.Jn)("background/weatherSuperFeed/SearchIllustration.png")}" />`,interestOptions:this.getMyLocations(),useCustomInterestOptionTemplate:!0,interestsSuggestionTitle:e,strings:{searchPlaceholder:t.searchPlaceHolder},onInterestOptionClick:async e=>{e.metadata||(this.card.superSDCardData=(0,p.OS)(this.card.superSDCardData,this.card.superSDCardData.interestManagerData.interestOptions));const t=await e.metadata();t&&(this.card.superSDCardData=(0,p.OS)(this.card.superSDCardData,this.card.superSDCardData.interestManagerData.interestOptions,t))},onHandleSearch:async e=>{e?await this.updateSearchLocations(e):this.card.superSDCardData=(0,p.OS)(this.card.superSDCardData,this.getMyLocations())},onDismissInterestManager:()=>{this.switchToForecastCard()}}}async getSearchedInterestOptions(e){const t=await(this.card.handlers?.getLocationSuggestList(e));return t?(this.searchResult=t.filter((e=>!!e)),this.getSearchResultInterestOptions()):(this.searchResult=null,null)}switchToRecommendPage(){const e=this.getInterestManagerDataV2();this.card.superSDCardData={...this.card.superSDCardData,toggleInterestManager:!0,interestManagerData:e},this.card.cardViewMode=i.jy.Setting,this.refreshUx=!1}}var N=a(78346),W=a(91776),R=a(54297),z=a(67917),O=a(16614),V=a(39409),E=a(68963),H=a(67044),q=a(24141);class U extends N.l{weatherDataChanged(e,t){if(t){const e=S.x.getWeatherGlyphBySymbolOrSkyCode(t?.weatherState?.currentCondition?.symbol,t?.weatherState?.currentCondition?.pvdrIcon,"",t.iconMap),a=t.locationName+""+(this.strings.miniMapSeeMore?"\n"+this.strings.miniMapSeeMore:""),n=new CustomEvent("bing-hp-msg",{detail:{weatherData:t,iconUrl:e,tooltipInfo:a}});document.dispatchEvent(n),this.deferLoadHandlerByWeatherData()}window&&(window._weatherNotRendered=!1)}minimapChanged(e){!e&&this.minimap&&(0,V.E)(this)}constructor(){super(),this.ensureObservableBeforeConnect=!0,this.loadedExps={},this.isActionMenuOpen=!1,this.isHideCardDialogShow=!1,this.isReportIssuDialogShow=!1,this.isAnimationsEnabled=!0,this.ePlantMuted=!0,this.delayComponentLoaded=!1,this.isVisualReady=!1,this.userType=void 0,this.showToast=!1,this.miniL1TabIdx=0,this.isOnRotationalPreview=()=>this.isRotationalPreview||this.config.mockTkRt,this.extractFeedData=()=>{this.mapperArgs&&(this.openLinksInNewTab=this.mapperArgs.openLinksInNewTab,this.hideWeatherCardCallback=this.mapperArgs.hideCardCallback,this.goToPersonalizeSettingsCallback=this.mapperArgs.goToPersonalizeSettingsCallback,this.dismissActionMenu=this.mapperArgs.dismissSDCardMenuCallback,this.refreshSDCardSection=this.mapperArgs.refreshSDCardSection,this.sdCardActionClickHandler=this.mapperArgs.sdCardActionClickHandler,this.visualReadinessCallback=this.mapperArgs.visualReadinessCallback,this.supportedSdCardActionMenuItems=this.mapperArgs.supportedSdCardActionMenuItems,this.cardSize=this.feedLayoutCardSize===T.Nv._1x_1y?"half":"full",this.parentTelemetry=null,this.wpoMetadata=this.mapperArgs.cardMetadata&&this.mapperArgs.cardMetadata.wpoMetadata)},this.handleKeyDown=e=>{this.delayComponentLoaded||"Tab"===e.key&&this.delayLoadComponent().catch((()=>{}))},this.onMouseEnter=()=>{this.delayComponentLoaded||this.delayLoadComponent().catch((()=>{}))},this.closeLocationNotice=()=>{this.declinedLocations.push(this.detectedLocation),(0,R.$o)().setItem(i.rd,JSON.stringify(this.declinedLocations))},this.presentLocationNotice=()=>{const e={toastTitle:this.strings.locationNotice.replace("{n}",u.Gf(this.detectedLocation)),toastButton:this.strings.setPrimaryLocation,toastClickAction:()=>{this.handlers?.saveLocation(this.detectedLocation)},clickToastLabel:this.strings.setPrimaryLocation,clickToastTelemetry:this.telemetryContext?.switchLocation?.getMetadataTag(),toastCloseAction:this.closeLocationNotice.bind(this),closeToastLabel:this.strings.close,closeToastTelemetry:this.telemetryContext?.closeLocationNotice?.getMetadataTag()};this.toastTemplate||this.delayComponentLoaded||this.delayLoadComponent().catch((()=>{})),this.toast(e)},this.taskbarRotateHandler=e=>{const t=(e?.detail||{}).previewType;this.setPreviewValue(t),(0,x.pD)(this,this.cardMetadata,!0),(0,r.QO)(this.displayContent,(0,x.Ab)(),this.contentDataList)},this.setPreviewValue=e=>{e&&e.startsWith("Weather")?(0,x.sI)(e.split("|")[0]):(0,x.E2)()},this.sizeChangeHandler=e=>{if("CardResized"===e.type){const t=e.detail.size;if("WeatherSummary"!=(e&&e.detail.cardType)||!this.isPinned)return;this.handlers.adjustToNewWidgetSize(t)}},this.propertyChangeHandler=e=>{"colorMode"===e&&(this.isWidgetDarkMode="dark"===this.widgetProperties.getProperty("colorMode")),"animationsEnabled"===e&&(this.isAnimationsEnabled=0!==this.widgetProperties.getProperty("animationsEnabled"))},this.sleep=e=>new Promise((t=>window.setTimeout(t,e))),this.toast=e=>{window.clearTimeout(this.toastTimer),this.toastAttr=e,this.toastAttr.onToastClick=()=>this.onToastActionClick(e.toastClickAction),this.toastAttr.onToastClose=()=>this.clearToast(e.toastCloseAction),e.autoClose&&(this.toastTimer=window.setTimeout((()=>this.clearToast()),3e3)),this.showToast=(0,b.N)()&&!0},(0,W.P)(),this.tmpl={}}cardMetadataChanged(e,t){if(this.settingUpdatedRefreshState&&(this.settingUpdatedRefreshState=!1,this.cardViewMode=i.jy.Forecast),(0,O.Z)(e,t)||!this.cardMetadata||!e)return;const a=this.config?.cardMode,n=c.gL.get(c.Iq.IsLSCachedFeedUsed)||!1;a===i.Nu.FeedOnly?(0,x.pD)(this,this.cardMetadata,n):a===i.Nu.FeedFirst&&((0,x.pD)(this,this.cardMetadata,!0),this.weatherDataConnector&&this.weatherDataConnector.updateWeatherDataState(this.cardMetadata,n)),window&&(window._weatherNotRendered=!1)}telemetryContextChanged(e,t){!(0,O.Z)(e,t)&&this.telemetryContext&&window&&(window._weatherNotRendered=!1)}async experienceConnected(){try{const e=(0,D.zp)();e&&e.includes("reqsrc=vp")&&this.delayLoadComponent().catch((()=>{})),this.weatherStrategy=new m,this.extractFeedData(),this.config.mockData&&(this.cardMetadata=this.config.mockData),this.config.isDynamicFeed&&(document.addEventListener("CardResized",this.sizeChangeHandler),this.isPinned=this.supportedSdCardActionMenuItems&&this.supportedSdCardActionMenuItems.includes(l.B$.Unpin),document.addEventListener("TaskbarPreviewType",this.taskbarRotateHandler),this.cardSize=(0,C.$b)(this.cardSize)),document.addEventListener("keydown",this.handleKeyDown),(0,C.$c)("WeatherCardWC.Start"),this.cardSize=this.cardSize||this.config.cardSize||"full",this.cardViewMode=(0,b.N)()?this.cardViewMode||i.jy.Preload:i.jy.Forecast,this.initServiceRequestOptions();const t=c.gL.get(c.Iq.IsLSCachedFeedUsed)||!1;if(this.config.cardMode==i.Nu.FeedOnly)await this.initialWeatherDataParse(t),this.config.isDynamicFeed&&this.loadWidgetInstance();else if(this.config.cardMode==i.Nu.FeedFirst)await this.initialWeatherDataParse(!0),this.autoRetryGetDataConnector().catch((()=>{}));else if(this.weatherStrategy.setPerfMarker(),await this.loadBackupMapper(),0==this.initDataConnector())return void h.M0.sendAppErrorEvent({...y.ruE,message:"Fail to get weather data connector"});await this.deferLoadHandlerByCanvas(),await this.deferLoadHandlerByWeatherData(),this.weatherCardLegacyComponent=!this.config.enableSuperfeedUx&&await this.loadLegacyCard(),await(0,V.E)(this),this.config.enableSuperfeedUx&&(this.superSDCardProps=new F(this)),this.addZoneToTelemetry(),this.config.hostPlace&&a.e("weather-card-wc-init-account-type").then(a.bind(a,76405)).then((e=>{const{initAccountType:t}=e;t(this)})),this.isVisualReady||(0,q.F_)().then((()=>{this.isVisualReady=!0}),(()=>{}))}catch(e){h.M0.sendAppErrorEvent({...y.f7t,message:"error in experience [weather-card-wc],Weather: Exception to initialize WeatherCardWC",pb:{...y.f7t.pb,customMessage:`Failed with exception : ${e}`,isPinned:this.isPinned}})}}disconnectedCallback(){super.disconnectedCallback(),this.unsetIntersectionObserver(),this.config?.isDynamicFeed&&(document.removeEventListener("CardResized",this.sizeChangeHandler),document.removeEventListener("TaskbarPreviewType",this.taskbarRotateHandler),document.removeEventListener("keydown",this.handleKeyDown),this.unloadWidgetInstance()),this.clearToast()}getExperienceType(){return o.x.weatherCardWC}shadowDomPopulated(){this.weatherData&&((0,C.$c)("WeatherCardWC.Ready"),(0,g.c)((()=>{this.visualReadinessCallback&&this.visualReadinessCallback()})),(0,c.MD)(o.x.weatherCardWC),this.markVisuallyReadyRaf(),this.setIntersectionObserver(),window&&(window._weatherNotRendered=!1))}initDataConnector(){if(this.weatherDataConnector)return;const e=this.config?.enableCardDataConnector?s.z.WeatherCardData:s.z.WeatherData,t=(0,H.K0)(e);return!!t&&(this.weatherDataConnector=t,(0,E.Uo)(e,(e=>{this.bgMapper=(0,z.u)(this,e,(0,x.xg)()),(0,x.zo)(this,e)})),!0)}async autoRetryGetDataConnector(){if(!(0,b.N)())return;let e=50;for(;e>0&&!this.initDataConnector();)await this.sleep(500),e--;if(!this.weatherDataConnector)return void h.M0.sendAppErrorEvent({...y.ruE,message:"Fail to get feed mode weather data connector"});if(!this.cardMetadata)return;const t=c.gL.get(c.Iq.IsLSCachedFeedUsed)||!1;this.weatherDataConnector.updateWeatherDataState(this.cardMetadata,t)}async delayLoadComponent(){const{delayLoadComponent:e}=await Promise.all([a.e("common-feed-libs"),a.e("libs_location-service_dist_AutoSuggestService_index_js-libs_location-service_dist_profiles_We-d085cf"),a.e("weather-card-wc-deferred")]).then(a.bind(a,21356));await e(this),this.delayComponentLoaded=!0}setIntersectionObserver(){if(this.intersectionObserver||!(0,b.N)())return;this.intersectionObserver=new IntersectionObserver((e=>{if(e){e[0]?.intersectionRatio>0&&(0,f.BY)(this.tmpl,this)}}),{threshold:[0]}),this.intersectionObserver.observe(this)}unsetIntersectionObserver(){this.intersectionObserver&&(this.intersectionObserver.disconnect(),this.intersectionObserver=void 0)}initServiceRequestOptions(){this.serviceRequestOptions={},this.serviceRequestOptions.requestInfo={experience:"wcardwc"},this.serviceRequestOptions.partialHourly=!0}loadWidgetInstance(){this.widgetInstance=(0,d.Qq)(),this.widgetInstance&&(this.widgetProperties=this.widgetInstance.tryGetApi("properties",d.l1,d.l1),this.widgetProperties&&(this.isWidgetDarkMode="dark"===this.widgetProperties.getProperty("colorMode"),this.isAnimationsEnabled=0!==this.widgetProperties.getProperty("animationsEnabled"),this.widgetProperties.addPropertyChangeListener(this.propertyChangeHandler)))}unloadWidgetInstance(){this.widgetProperties&&this.widgetProperties.removePropertyChangeListener(this.propertyChangeHandler)}addZoneToTelemetry(){this.config.isDynamicFeed&&(this.telemetryObject.contract.zone=(0,l.xH)(this.isPinned,"WeatherSummary"))}onMapRenderError(e,t="Failed to build mini map props in weather card"){(0,p.KW)(this.cardSize)||h.M0.sendAppErrorEvent({...y.S6L,message:t,pb:{...y.S6L.pb,customMessage:JSON.stringify(e)}}),this.minimap=null,this.defaultMapPageUrl=null}handleChevronClick(e){this.handlers.handleTabClick(e)}handleTabClick(e){this.handlers.handleTabClick(e.detail)}async loadLegacyCard(){const{delayLoadLegacyCard:e}=await Promise.all([a.e("common-segments"),a.e("weather-legacy-card")]).then(a.bind(a,96524));return await e(this),this.legacyCardTemplate}getEPlantEnabled(){return!(!this.config.enableEPlant||this.ePlantMuted||!this.isVisualReady)&&(!this.primaryCarousel||"nowcast"!==this.primaryCarousel&&"nowcastalert"!==this.primaryCarousel||this.config.enableEPlantNowcast)}cardFirstViewReady(){this.cardViewMode!==i.jy.Preload&&this.cardViewMode!==i.jy.Error||(this.cardViewMode=i.jy.Forecast)}clearToast(e){e&&e(),this.showToast=!1,window.clearTimeout(this.toastTimer),this.toastAttr=null,this.toastTimer=null}onToastActionClick(e){e&&e(),this.clearToast()}async loadBackupMapper(){const{legacyMapperLoader:e}=await a.e("weather-card-backup-mapper").then(a.bind(a,28215));this.backupMapper=e()}async initialWeatherDataParse(e=!1){if(!this.cardMetadata)return;const{weatherResponse:t,resIdx:a,locIdx:n}=(0,x.ZE)(this.cardMetadata);t&&t.userProfile&&t.userProfile.location&&(t.cards&&t.cards.length||await this.loadBackupMapper(),(0,x.XF)(t,a,n,this,e))}async deferLoadHandlerByCanvas(){this.config.hostPlace===i.pY.NTP||this.config.hostPlace===i.pY.WINHP?await a.e("weather-card-wc-ntp").then(a.bind(a,61377)).then((e=>e.delayLoadHandler(this))):this.config.hostPlace===i.pY.PRONG1&&await a.e("clarity").then(a.bind(a,12985)).then((e=>e.delayLoadHandler(this)))}async deferLoadHandlerByWeatherData(){if("ForecastVideo"===this.contentType){const{hasValidVideoDelay:e}=await a.e("clarity").then(a.bind(a,24447));this.deferLoadValidator=e}}}(0,n.gn)([w.LO],U.prototype,"actionMenuData",void 0),(0,n.gn)([w.LO],U.prototype,"isActionMenuOpen",void 0),(0,n.gn)([(0,v.Lj)({mode:"boolean"})],U.prototype,"isHideCardDialogShow",void 0),(0,n.gn)([(0,v.Lj)({mode:"boolean"})],U.prototype,"isReportIssuDialogShow",void 0),(0,n.gn)([v.Lj],U.prototype,"cardSize",void 0),(0,n.gn)([(0,v.Lj)({mode:"boolean"})],U.prototype,"isWidgetDarkMode",void 0),(0,n.gn)([(0,v.Lj)({mode:"boolean"})],U.prototype,"isAnimationsEnabled",void 0),(0,n.gn)([w.LO],U.prototype,"cardViewMode",void 0),(0,n.gn)([(0,v.Lj)({mode:"boolean"})],U.prototype,"focusToCard",void 0),(0,n.gn)([w.LO],U.prototype,"weatherData",void 0),(0,n.gn)([w.LO],U.prototype,"primaryCarousel",void 0),(0,n.gn)([w.LO],U.prototype,"minimap",void 0),(0,n.gn)([w.LO],U.prototype,"defaultMapPageUrl",void 0),(0,n.gn)([w.LO],U.prototype,"telemetryContext",void 0),(0,n.gn)([w.LO],U.prototype,"settingData",void 0),(0,n.gn)([w.LO],U.prototype,"ePlantMuted",void 0),(0,n.gn)([w.LO],U.prototype,"cardMetadata",void 0),(0,n.gn)([w.LO],U.prototype,"dropdownWeather",void 0),(0,n.gn)([w.LO],U.prototype,"delayComponentLoaded",void 0),(0,n.gn)([w.LO],U.prototype,"handlers",void 0),(0,n.gn)([w.LO],U.prototype,"refreshFeed",void 0),(0,n.gn)([w.LO],U.prototype,"hideDialogComponent",void 0),(0,n.gn)([w.LO],U.prototype,"hideRemindComponent",void 0),(0,n.gn)([w.LO],U.prototype,"reportIssueComponent",void 0),(0,n.gn)([w.LO],U.prototype,"toastTemplate",void 0),(0,n.gn)([w.LO],U.prototype,"legacyCardTemplate",void 0),(0,n.gn)([w.LO],U.prototype,"isRotationalPreview",void 0),(0,n.gn)([w.LO],U.prototype,"isVisualReady",void 0),(0,n.gn)([w.LO],U.prototype,"superSDCardProps",void 0),(0,n.gn)([w.LO],U.prototype,"superSDCardData",void 0),(0,n.gn)([w.LO],U.prototype,"userType",void 0),(0,n.gn)([w.LO],U.prototype,"followedLocations",void 0),(0,n.gn)([w.LO],U.prototype,"weatherCardLegacyComponent",void 0),(0,n.gn)([w.LO],U.prototype,"showToast",void 0),(0,n.gn)([w.LO],U.prototype,"toastAttr",void 0),(0,n.gn)([w.LO],U.prototype,"miniL1TabIdx",void 0)},53170:function(e,t,a){a.d(t,{BY:function(){return i},_M:function(){return c},kp:function(){return s},s3:function(){return l},yE:function(){return o}});var n=a(45129),r=a(23549);function i(e,t){t.cardSize&&c(n.sY,t.cardSize),t.isRotationalPreview&&(l(n.wj),c(n.wj,t.isRotationalPreview.toString())),e.contentId?c(n.Y_,e.contentId):l(n.Y_),e.contentRank?c(n.qb,e.contentRank):l(n.qb),e.controlFlight?c(n.W9,e.controlFlight):l(n.W9),e.userId?c(n.Et,e.userId):l(n.Et),e.userType?c(n.FW,e.userType):l(n.FW),e.feature?c(n.L0,e.feature):l(n.L0),e.eplantJoin?c(n.ap,e.eplantJoin):l(n.ap),e.viewedIds?c(n.Pm,e.viewedIds):l(n.Pm),e.clickedIds?c(n.CK,e.clickedIds):l(n.CK),e.cardId?c(n.Ks,e.cardId):l(n.Ks),e.swIds?c(n.I2,e.swIds):l(n.I2),e.curCondition?c(n.Eh,e.curCondition):l(n.Eh),e.latlon?c(n.oo,e.latlon):l(n.oo),e.lastUpdate?c(n.k_,e.lastUpdate):l(n.k_),e.aqLvl?c(n.Xt,e.aqLvl):l(n.Xt),e.plTdLvl?c(n.zl,e.plTdLvl):l(n.zl),e.plTmrLvl?c(n._W,e.plTmrLvl):l(n._W),e.swDetail?c(n.C8,e.swDetail):l(n.C8),e.resIdx?c(n.wI,e.resIdx):l(n.wI),e.normalizedSkyCode&&r.M0&&r.M0.addOrUpdateTmplProperty("normalizedSkyCode",`${e.normalizedSkyCode}`),e.nowcastTemplate&&r.M0&&r.M0.addOrUpdateTmplProperty("nowcastTemplate",`${e.nowcastTemplate}`),o(e,t)}function o(e,t){if(t.contentType)if("LifeHolidayPromotion"===t.contentType){const a=e.contentTitle||e.contentCapIcon||"";c(n.Jt,t.contentType+a)}else c(n.Jt,t.contentType);t.minimap&&t.minimap.mapType?c(n.m3,t.minimap.mapType):l(n.m3),e.contentCapIcon?l("NoContentIcon"):c("NoContentIcon","true"),t.followedLocations&&c(n.cB,`${t.followedLocations.length}`),c(n.ah,t.minimap?"true":"false")}function s(e,t){return(e=e||{}).signature=t,e}function c(e,t){r.M0&&r.M0.addOrUpdateTmplProperty(e,t)}function l(e){r.M0&&r.M0.removeTmplProperty(e)}},1558:function(e,t,a){a.d(t,{Z:function(){return o}});var n=a(49218),r=a(93703),i=a(57593);const o=n.dy` ${(0,r.g)((e=>e.cardViewMode===i.jy.Forecast&&e.isHideCardDialogShow&&e.hideDialogComponent),(e=>e.hideDialogComponent))} ${(0,r.g)((e=>e.cardViewMode===i.jy.Forecast&&e.isReportIssuDialogShow&&e.reportIssueComponent),(e=>e.reportIssueComponent))} ${(0,r.g)((e=>e.cardViewMode===i.jy.Remind&&e.hideRemindComponent),(e=>e.hideRemindComponent))} ${(0,r.g)((e=>e.showToast&&e.toastTemplate),(e=>e.toastTemplate))}
`},91776:function(e,t,a){a.d(t,{P:function(){return _}});var n=a(45900),r=a(63070),i=a(76679),o=a(25162),s=a(65175),c=a(84881),l=a(38661),d=a(32246),u=a(23335),p=a(19786),h=a(76520),m=a(78923),y=a(32572);const g=m.i` .weather-current-temperature{flex-direction:row-reverse}.weather-degree-switch{margin-left:8px}`,f=m.i` .weather-current-image{box-sizing:border-box;display:flex;align-items:center;z-index:2}.weather-current-image-tr img{width:34px;height:34px;aspect-ratio:auto 34 / 34}.weather-current-temperature{font-size:46px;text-decoration:none}.weather-current-temperature-lsummary{font-size:44px;text-decoration:none}.weather-current-temperature,.weather-current-temperature-lsummary{line-height:44px;color:var(--textStyle);text-shadow:0px 0.4px 0.9px rgba(0,0,0,0.13),0px 0px 2.22px rgba(0,0,0,0.11);display:flex;align-items:flex-start;z-index:2;margin-inline-start:4px;margin-inline-end:0px}.weather-current-temperature-num{line-height:44px;font-size:46px;overflow:hidden}.weather-current-temperature-num-tr{line-height:42px;font-size:32px}.weather-degree-switch,.weather-degree-switch-lsummary{display:flex;flex-flow:column nowrap;align-items:center;margin-inline-start:2px;height:44px}.weather-degree-current{font-size:${y.P};line-height:${y.b};position:relative;top:2px;color:var(--textStyle);text-shadow:0px 0.4px 0.9px rgba(0,0,0,0.13),0px 0px 2.22px rgba(0,0,0,0.11)}.weather-degree-no-switch{font-size:16px;line-height:24px;top:0px;margin-inline-start:0px}.weather-degree-no-switch-tr{font-size:14px;top:3px}`;var w=a(27186),v=a(29717);const b=m.i` .weather-arrow-glyph{transform:rotate(180deg)}`,D=m.i` .weather-current-precipitation-glyph{margin-inline-start:auto;margin-inline-end:4px;fill:currentcolor;filter:invert(var(--iconInvert))}.weather-arrow-glyph{height:12px;width:auto;position:relative;top:0px;filter:invert(var(--iconInvert));flex-shrink:0;width:7px}`;var x=a(67739),C=a(27782);const T=m.i` .weather-current-container{float:right}.weather-alert-arrow{padding-left:6px}.weather-alert-arrow:${x.b}{text-decoration:underline;outline:none !important;border:1px solid var(--textStyle)}.summary-oneline-info{text-align:right}`,S=m.i` .weather-current-container{float:left}.weather-alert-arrow{padding-right:6px}.weather-alert-arrow:${x.b}{text-decoration:underline;outline:none !important;border:1px solid var(--textStyle)}.summary-oneline-info{text-align:left}`,L=m.i` .weather-current-info,.summary-twoline,.summary-oneline{max-width:var(--summaryLen);max-height:48px;font-size:12px;line-height:16px}.summary-oneline-tr{max-width:174px}.summary-twoline{margin-inline-start:auto;margin-inline-end:0px;color:var(--textStyle);fill:var(--textStyle);text-shadow:0px 0.4px 0.9px rgba(0,0,0,0.13),0px 0px 2.22px rgba(0,0,0,0.11);font-weight:600;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;text-align:end;text-decoration:none}.summary-twoline-info{display:flex;align-items:center;margin-inline-start:auto;margin-inline-end:0px;height:16px}.summary-twoline-icon{margin-inline:auto 4px;display:flex}.summary-twoline-sig{display:flex}.summary-twoline-icon img{margin-top:0px;height:16px;width:16px}.weather-lightning-icon img{height:13px !important;width:13px !important}.summary-twoline-item1,.summary-twoline-item2{overflow:hidden;text-overflow:ellipsis}.summary-twoline-item2{margin-inline-start:auto;margin-inline-end:0px}.weather-alert-arrow{z-index:2;display:flex;flex-direction:column;justify-content:center}.weather-alert-arrow:${x.b}{text-decoration:underline;outline:none !important;border:1px solid var(--textStyle)}.summary-oneline{z-index:2;margin-inline-start:auto;margin-inline-end:0px;display:flex;flex-direction:row;align-items:center;overflow:hidden;text-overflow:ellipsis;color:var(--textStyle)}.summary-oneline-info{text-decoration:none;color:var(--textStyle);font-size:12px;line-height:16px;letter-spacing:0.12px;font-weight:400;-webkit-line-clamp:3;-webkit-box-orient:vertical;display:-webkit-box;text-align:right}.summary-oneline-info .weather-current-precipitation-glyph{margin-bottom:3px}.summary-oneline-info:hover,.summary-oneline-info:active,.summary-oneline-info:${x.b}{text-decoration:underline;outline:none !important}.summary-oneline-info img{vertical-align:bottom;margin-inline-end:4px}.nocolor-img-precipitation{height:14px !important;width:7px !important}.summary-twoline{z-index:2;text-transform:none}.summary-twoline:hover,.summary-twoline:active,.summary-twoline:${x.b}{text-decoration:underline;outline:none !important}.aqi-summary-twoline{font-weight:400 !important;font-size:12px !important}.weather-current-container-item{display:flex;align-items:center;text-decoration:none}.weather-current-container-item-text{font-size:12px;line-height:20px;display:flex;margin-inline-end:0px;color:var(--textStyle);text-shadow:0px 0.4px 0.9px rgba(0,0,0,0.13),0px 0px 2.22px rgba(0,0,0,0.11)}.weather-current-info{margin-inline-start:auto;margin-inline-end:0px;color:var(--textStyle);text-shadow:0px 0.4px 0.9px rgba(0,0,0,0.13),0px 0px 2.22px rgba(0,0,0,0.11);flex-flow:column nowrap;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;text-align:end}.weather-current-skycode,.weather-current-summary{color:var(--textStyle);text-shadow:0px 0.4px 0.9px rgba(0,0,0,0.13),0px 0px 2.22px rgba(0,0,0,0.11)}.weather-current-skycode{line-height:20px;font-size:12px;display:inline-block}.weather-current-summary{font-size:${C.c};line-height:${C.R};display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis}.weather-current-container{display:flex;margin:0px;float:right}.weather-current-container > li{padding-inline-start:10px;padding-inline-end:1px;padding-bottom:0px}.nocolor-img-aqi,.nocolor-img-nm-aqi{filter:invert(var(--iconInvert))}.nocolor-img-aqi{width:12px !important;height:12px !important}.nocolor-img-nm-aqi{margin-inline:auto 4px}`;var k=a(53131),$=a(55135),I=a(22674);const M=m.i` .tab:first-child{border-radius:0px 3px 3px 0px}.tab:last-child{border-radius:3px 0px 0px 3px}`,P=m.i` .wea_tab_list{height:26px;max-width:268px;color:var(--textStyle);padding:0;margin:0;font-size:12px;line-height:20px;display:flex;flex-wrap:nowrap}.tab{height:26px;display:inline-block;padding:0 11px;background:var(--weather-card-forecast-background);border:1px solid rgba(255,255,255,0.0698);cursor:pointer;position:relative;line-height:24px;min-width:59px;text-align:center;box-sizing:border-box;z-index:2;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.tab:first-child{border-radius:3px 0px 0px 3px}.tab:last-child{border-radius:0px 3px 3px 0px}.tab:not(:first-child){border-left:none}.tab:hover{background:var(--weather-card-forecast-hover-background)}.tab:${x.b}{outline:none;offset:none;border:1px solid var(--textStyle);border-radius:0}.wea_tab_a{border:1px solid rgba(255,255,255,0.1);background:var(--weather-card-forecast-hover-background)}.wea_tab_b{border:1px solid rgba(255,255,255,0.3)}.pill{width:16px;height:3px;background:rgba(96,205,255,1);border-radius:3px;position:absolute;bottom:0;left:calc(50% - 8px)}.wea_main_content{position:relative;width:268px;height:136px;margin:4px 0 0 0;padding:0}.wea_content{position:relative;width:268px;height:136px;display:none;z-index:1}.wea_content_a{display:block}`,A=m.i` .weather-forecast-item{display:flex;flex-direction:column;justify-content:space-between;align-items:center;text-align:center;background:var(--weather-card-forecast-background)}.weather-forecast-item:hover,.weather-forecast-item:active,.weather-forecast-item:${x.b}{background:var(--weather-card-forecast-hover-background)}.weather-forecast-item::part(control){width:100%;padding:10px 0 12px;border:0;color:var(--textStyle)}.weather-forecast-item img{width:24px;height:24px}.weather-forecast-item img{margin:0px}.weather-forecast-icon{display:inline-flex;margin:14px 0 12px}.weather-forecast-item-5col{width:50px;min-width:50px;border-radius:4px}.weather-forecast-item-npro{height:136px}.weather-forecast-day{font-size:12px;line-height:16px;text-transform:uppercase;cursor:pointer;font-weight:500;margin-top:0px;text-transform:none}.weather-forecast-temperature{font-size:14px;line-height:22px;font-weight:600}.weather-forecast-precipitation{font-weight:400;font-size:12px;line-height:20px;letter-spacing:0.12px;margin-top:6px}.weather-forecast-precipitation .weather-current-precipitation-glyph{width:6px;height:8px;margin:0}.weather-forecast-container{position:relative;z-index:2;overflow:hidden;text-decoration:none}.weather-forecast{list-style:none;display:flex;justify-content:space-between;padding:0px;margin:0px;position:relative;width:268px}.weather-forecast-high{font-weight:600;margin-bottom:4px}.weather-forecast-high,.weather-forecast-low{font-size:14px;line-height:22px}.weather-forecast-update-time{display:none}`,F=m.i` .nowcast-animation-bg-large{height:128px}.nowcast-animation-bg-medium,.nowcast-animation-bg-full{height:118px}.nowcast-animation-bg-small,.nowcast-animation-bg-half{bottom:0}.nowcast-animation-bg{position:absolute;overflow:hidden;top:-48px;left:-16px;right:-16px}.nowcast-animation-img{width:3104px;height:206px;opacity:0.45;top:0;position:absolute;animation:NowcastingAnimationMedium 1s infinite;animation-timing-function:steps(1)}@keyframes NowcastingAnimationMedium{0%,6.25%{left:0px}6.85%,13.1%{left:-207px}13.7%,19.95%{left:-414px}20.55%,26.8%{left:-621px}27.4%,33.65%{left:-828px}34.25%,40.5%{left:-1035px}41.1%,47.35%{left:-1242px}47.95%,54.2%{left:-1449px}54.8%,61.05%{left:-1656px}61.65%,67.9%{left:-1863px}68.5%,74.75%{left:-2070px}75.35%,81.6%{left:-2277px}82.2%,88.45%{left:-2484px}89.05%,95.3%{left:-2691px}95.9%,100%{left:-2898px}}`,N=m.i`
.wea_tc_container{padding:8px;box-sizing:border-box;text-decoration:none;display:flex;flex-direction:column;position:relative;overflow:hidden;border-radius:6px;width:268px;height:136px;background:rgba(255,255,255,.06)}.wea_tc_container:${x.b}{border:1px solid #fff;border-radius:0;background:rgba(255,255,255,0.1);outline-offset:-2px},.wea_trend_body{position:relative;overflow:hidden;flex:auto;display:flex;flex-direction:row}`;var W=a(23622),R=a(72198);const z=m.i` ${T}
`,O=m.i` ${M} ${S} ${g} ${b}
`,V=m.i` :host{forced-color-adjust:auto}`,E=m.i` ${P} ${W.U} ${(0,w.j)("flex")} ${L} ${D} ${A} ${f} ${F} ${N} :host{position:relative;width:auto;height:100%;box-sizing:border-box;font-family:${k.S};flex-direction:column;outline:none}.weather-background-mask-wildfire{position:absolute;bottom:0px;left:0px;top:0px;right:0px;border-radius:8px;background:linear-gradient(245.69deg,rgba(235,235,235,0) -2.63%,#EBEBEB 71.96%)}.weather-container{overflow:hidden;padding:0px;display:flex;flex-direction:column;justify-content:space-between;border-radius:calc(${$.UW} * 1px);height:100%;background:transparent;width:268px}.weather-top-template{text-decoration:none;display:flex;align-items:center;justify-content:space-between}:host([layout="small"]) .weather-top-template,:host([layout="half"]) .weather-top-template{margin:2px 0 16px}:host([layout="full"]) .weather-top-template,:host([layout="medium"]) .weather-top-template{margin:4px 0 16px}:host([layout="large"]) .weather-top-template{margin:4px 0px 18px}.weather-middle-template{height:136px;padding:0px}:host([layout="full"]) .weather-middle-template,:host([layout="medium"]) .weather-middle-template{margin:0 0 20px}:host([layout="large"]) .weather-middle-template{margin:0 0 18px}.weather-bottom-template{height:136px;padding:0px}:host([layout="large"]) .weather-bottom-template{margin:0 0 22px}.weather-top-panel-template{height:224px;width:268px;z-index:2}.weather-minil1-template .weather-top-template{margin-bottom:6px !important}.weather-large-more-container{height:100%;position:relative;z-index:2;display:flex;justify-content:center}.weather-forecast-region-container{position:relative;height:100%;z-index:2;overflow:hidden}.weather-current-temp-container{display:flex;flex-direction:row;align-items:center;justify-content:space-between}.weather-current-leftpane{display:flex;flex-direction:column;gap:4px;margin:2px 0px}.weather-TkRt-content{height:100%;position:relative;z-index:2}.minimap-wce-container,.video-entry-wce-container{position:absolute;top:0;left:0;width:100%;height:100%;background:rgba(240,240,240,0.1);border-radius:6px}`,H=m.i` ${E} a,button,fluent-button,fluent-anchor{${R.U}}`.withBehaviors(new I.O(z,O),(0,v.vF)(V)),q=p.xI.compose({name:"msft-weather-super-sd-card",template:h.Ru,styles:H,shadowOptions:{delegatesFocus:!0}});var U=a(2848);function _(){n.D.define(r.H.registry),i.D.define(r.H.registry),o.D.define(r.H.registry),s.D.define(r.H.registry),c.D.define(r.H.registry),l.D.define(r.H.registry),d.D.define(r.H.registry),q.define(u.j.registry),(0,U.c)()}},67917:function(e,t,a){function n(e,t,a){return i(t,a,e.backupMapper)}function r(e,t,a){return i(t.cardsMetadata,a,e.backupMapper)}function i(e,t,a){if(e&&e.length){t>=e.length&&(t=0);const a=e[t],n=e[0];return{getBackgroudImage:(e,t,r)=>function(e,t){const a=e?.bg;return{"background-image":`url('${t?.baseUrl}${a?.info[0]}')`}}(a,n),getAnimateBackgroundImage:(e,t,r)=>function(e,t){const a=e?.bg,n=a?.info[5]?a?.info[5]:a?.info[0];return{"background-image":`url('${t?.baseUrl}${n}')`}}(a,n),getNowcastingAnimationConfig:e=>function(e){const t=e?.bg,a=t?.animate||"",n=t?.info[3]||"";return a||n?{bgImageIcon:n,animationType:a}:void 0}(a),getSkyCodeLightBackgroundGradientColors:e=>function(e){const t=e?.bg?.info;return[t[1],t[2]]}(a),getLocStr:e=>function(e){return e?.loc[0]||""}(a),getDebugMeta:()=>""}}if(a)return a}a.d(t,{c:function(){return n},u:function(){return r}})},39409:function(e,t,a){a.d(t,{E:function(){return o}});var n=a(24141),r=a(78137),i=a(94756);async function o(e){e.config.slots&&(e.minimap&&!e.loadedExps.WeatherMinimapWC&&!e.config.disableMinimapPreload&&e.config.slots.weatherMinimapWC&&await async function(e){const t=await s(e.config.slots.weatherMinimapWC);if(!t)return;(0,i.$c)("WeatherMinimapWC.Loaded"),e.loadedExps.WeatherMinimapWC=!0}(e),!e.loadedExps.WeatherVideoEntryWC&&"video"==e.primaryCarousel&&e.weatherData.teaserCustomData?.source&&e.config.slots.weatherVideoEntryWC&&await async function(e){const t=await s(e.config.slots.weatherVideoEntryWC);if(!t)return;(0,i.$c)("WeatherVideoEntryWC.Loaded"),e.loadedExps.WeatherVideoEntryWC=!0}(e))}async function s(e){try{const e=(0,n.S0)();e&&e.getCurrentState()}catch(e){return!1}return await(0,r.Fg)(e),!0}},59717:function(e,t,a){a.d(t,{Gq:function(){return h},HP:function(){return w},IX:function(){return f},IY:function(){return u},K2:function(){return i},PZ:function(){return s},Q7:function(){return m},U6:function(){return d},Y6:function(){return r},YJ:function(){return o},gT:function(){return l},ik:function(){return v},nQ:function(){return c},rX:function(){return y},tE:function(){return p},ue:function(){return g}});var n=a(45648);const r=(0,n.uh)("Celsius.svg"),i=(0,n.uh)("Fahrenheit.svg"),o=(0,n.uh)("CheckedIcon.svg"),s=(0,n.uh)("CloseButton.svg"),c=(0,n.uh)("CheckIcon.svg"),l=(0,n.uh)("Bullet.svg"),d=(0,n.uh)("FlagIcon.svg"),u=(0,n.uh)("homeLoc.svg"),p=(0,n.uh)("detectLoc.svg"),h=(0,n.uh)("dark-mode/Celsius.svg"),m=(0,n.uh)("dark-mode/Fahrenheit.svg"),y=(0,n.uh)("dark-mode/CheckedIcon.svg"),g=(0,n.uh)("dark-mode/Bullet.svg"),f=(0,n.uh)("dark-mode/FlagIcon.svg"),w=(0,n.uh)("dark-mode/homeLocDark.svg"),v=(0,n.uh)("dark-mode/detectLocDark.svg")},94756:function(e,t,a){a.d(t,{$b:function(){return P},$c:function(){return f},$j:function(){return M},Qw:function(){return w},T5:function(){return I},V4:function(){return $},Ys:function(){return k},ZG:function(){return S},an:function(){return C},j4:function(){return v},kx:function(){return x},mq:function(){return T},ow:function(){return D},qB:function(){return b},y1:function(){return L},yJ:function(){return g}});var n=a(17449),r=a(45648),i=a(57978),o=a(57593),s=a(49218),c=a(21930),l=a(20009),d=a(7476),u=a(88826),p=a(13334),h=a(77286),m=a(23549),y=a(19890);function g(e,t){if(!e)return null;const a=t?.capIcon??(0,y.n)(e?.class,e?.significance);return{alertTitle:e?.title?.replace(" - "," "),alertEvent:e?.abbreviation?.[0],alertSig:e?.abbreviation?.[1],alertIcon:D([a,n.Ws],"",e?.title,"icon-svg")}}function f(e,t=performance.now()){const a=!0===p.Al.IsPrerender?t-(0,c.TZ)(l.DB):t;(0,c.su)(e,a)}function w(e,t){if(e&&t){const a=(+e.latitude).toFixed(3),n=(+e.longitude).toFixed(3),r=(+t.latitude).toFixed(3),i=(+t.longitude).toFixed(3);return a===r&&n===i}return!1}function v(e){if(!e)return 0;let t=parseInt(e.split("_").pop());return t||(t=parseInt(e.split("-").pop())),Math.max(t||0,0)}function b(e,t){let a=parseFloat(e);return t===o.VL.NONE||(a=t===o.VL.CTOF?1.8*a+32:(a-32)/1.8),Math.round(a)}function D(e,t,a,n){if((e=e.filter((e=>!!e)))&&e.length>0)return s.dy`<img src=${e[0]}
                     class="${n||""}"
                     height=${t}
                     width=${t}
                     alt="${a}"
                     @error=${(t,a)=>{!function(e,t){e.style.opacity="0";const a=e.getAttribute("src"),n=`Failed url links: ${a}`;m.M0.sendAppErrorEvent({...d.WCL,message:"couldn't load weather icon",pb:{...d.WCL.pb,customMessage:n}});const r=t.findIndex((e=>e===a));r+1<t.length&&r>-1&&e.setAttribute("src",t[r+1])}(a.event.target,e)}}  />`}function x(e){return(0,i.KW)(e)?"_1x_1y":(0,i.TW)(e)?"_1x_2y":(0,i.aL)(e)?"_1x_3y":""}function C(e,t,a,n){const i=e&&e.contenttype;return Array.isArray(r.LO)&&r.LO.includes(i)&&n&&n.length?["daily","minimap"]:Array.isArray(r.zk)&&r.zk.includes(i)&&t?["minimap","hourly"]:a&&a.length?["hourly","minimap"]:null}function T(e){const t=e.displayContent;return t&&t.content&&t.content[0]}function S(e){return e.config.localizedStrings}function L(e){if(e.config.enableSuperfeedUx)return;const t="msft-weather-card",a=e.shadowRoot?.querySelector(t);a||(0,u.H)(d.RPe,`error in experience weather-legacy-card," + "Output empty template ${t}`)}const k=["TempChange","WindChange","DayTemp","RainStart","RainStop","SnowStart","SnowStop","EtreeRecall"];function $(e){if(!e)return!1;return new Set(k).has(e)||e.startsWith("Teaser")}function I(e,t){return a=>(0,h.ss)(e?.currentCondition?.locationRaw,e?.unit,(e=>t.bgMapper?.getLocStr(e)),a)}function M(e,t){return(a,n)=>(0,h.E_)(e?.currentCondition?.locationRaw,e?.unit,(e=>t.bgMapper?.getLocStr(e)),a,n)}function P(e){return"half"===e?"small":"full"===e?"medium":e}},12908:function(e,t,a){a.r(t),a.d(t,{ToolingInfo:function(){return w},WeatherCardWC:function(){return r.r},WeatherCardWCStyles:function(){return f},WeatherCardWCTemplate:function(){return g}});var n=a(91776),r=a(36684),i=a(49218),o=a(93703),s=a(57593),c=a(1558),l=a(74605),d=a(57978),u=a(39157);function p(e,t,a,n=!1,r=!1){return e?`${function(e,t){if(!e.background||!(0,d.KW)(t)&&!e.enable1u)return"background: var(--gradient-background-fill);";const a=`${(0,u.Yq)().AssetsUrl}/weathermapdata/1/static/background/v2.0/jpg/sunny.jpg`,n=`${(0,u.Yq)().AssetsUrl}/weathermapdata/1/static/background/v2.0/test/jpg/1u/light.jpg`,r="#FFFFFF"===e.textColor?a:n;return`--bgImg:${e.background},url('${r}');`}(e,t)}\n            ${function(e,t){let a;a=e.textColor&&((0,d.KW)(t)||e.enable1u)?e.textColor:"var(--neutral-foreground-rest)";return`--sd-card-header-color:${a};\n            --sd-card-footer-color:${a};\n            --textStyle:${a};`}(e,t)}\n            ${function(e){return`--iconInvert:${e.iconInvert||"100%"};`}(e)}\n            ${function(e,t){return`--sd-card-footer-bg:${e.btnHintBackground||"rgba(255, 255, 255, 0.06)"};\n            ${"miniL1"==t?"--sd-card-pagination-dot-color: rgba(255, 255, 255, 0.4); --control-corner-radius: 3;":""}\n            --sd-card-footer-hoverBg:${e.btnHoverBackground||"rgba(255, 255, 255, 0.08)"};\n            --weather-card-forecast-background:${e.btnHintBackground||"rgba(255, 255, 255, 0.06)"};\n            --weather-card-forecast-hover-background: ${e.forecastHoverBackground||"rgba(225, 225, 225, 0.15)"};\n        `}(e,a)}\n            --title-max-width: ${220-(r?14:0)-(n?20:0)}px;`:""}const h=i.dy`<msft-weather-super-sd-card id="WeatherCard" layout="${e=>e.cardSize}" target=${e=>0==e.openLinksInNewTab?"_self":"_blank"} focusToCard="${e=>e.focusToCard}" :enableEPlant="${e=>e.getEPlantEnabled()&&void 0!==e.userType&&e.userType!==s.FW.AAD&&e.weatherData&&"miniL1"!==e.weatherData.uxFormat}" ePlantLabel="${e=>e.strings.ePlantButtonLabel}" ePlantIcon="${e=>e.config.ePlantIcon}" :weatherData="${e=>e.weatherData||{}}" :tabIdx="${e=>e.miniL1TabIdx}" :animationSource="${e=>e.weatherData&&e.weatherData.backgroundData&&e.weatherData.backgroundData.animationSource}" :primaryCarousel="${e=>e.primaryCarousel}" :telemetry="${e=>e.telemetryContext}" data-t="${e=>e.telemetryContext?.weatherCard?.getMetadataTag()}" @imageFailed=${(e,t)=>(0,l.g)(t.event,e.minimap?.mapType,"weather-card-wc")} style="position: static" data-clarity-mask="true" :minimapWce=${e=>e.config.slots?.weatherMinimapWC} :videoEntryWce=${e=>e.config.slots?.weatherVideoEntryWC} :minimap=${e=>e.minimap} @handleTabClick="${(e,t)=>e.handleTabClick(t.event)}" @miniMapError="${(e,t)=>e.onMapRenderError(t.event)}"></msft-weather-super-sd-card>`,m=i.dy`<cs-core-sd-card :data="${e=>e.superSDCardData}" :toggleInterestManager="${e=>e.superSDCardData?.toggleInterestManager}" style="${e=>p(e.weatherData?.backgroundData,e.cardSize,e.weatherData?.uxFormat,e.config.tempDropdown,e.config.currIconDropdown||e.config.homeIconDropdown)}" size="${e=>e.superSDCardData?.cardSize||""}"><div slot="content">${h}</div></cs-core-sd-card>`,y=i.dy` ${(0,o.g)((e=>e.cardViewMode!=s.jy.Remind),m)} ${c.Z}
`,g=i.dy`<div @mouseenter="${(e,t)=>{e.onMouseEnter()}}" style="padding: 0; margin: 0; width: 100%; height: 100%;">${(0,o.g)((e=>e.weatherCardLegacyComponent),(e=>e.weatherCardLegacyComponent))} ${(0,o.g)((e=>1==e.config.enableSuperfeedUx),y)}</div>`;const f=a(78923).i` :host{--control-corner-radius:8;--content-padding:0 0 16px;--title-padding:12px 16px;--cs-menu-item-icon-height:14px;position:relative}cs-core-sd-card::part(cs-sd-card){background:var(--bgImg);background-size:cover}cs-core-sd-card::part(footer-button){background:var(--sd-card-footer-bg);color:var(--sd-card-footer-color)}cs-core-sd-card::part(footer-button):hover{background:var(--sd-card-footer-hoverBg);color:var(--sd-card-footer-color)}msft-weather-super-sd-card::part(super-sd-nowcast-animation-bg){top:0px;left:0px;right:0px}fluent-button.neutral::part(control):focus-visible,fluent-anchor.neutral::part(control):focus-visible{outline:2px solid var(--textStyle) !important}`;(0,n.P)();const w={experienceConfigSchema:undefined}},76372:function(e,t,a){a.d(t,{Le:function(){return l},Mf:function(){return d},zo:function(){return u}});var n=a(21921),r=a(13334),i=a(74750),o=a(94246);const s=[{from:"Longitude",to:"longitude"},{from:"Latitude",to:"latitude"},{from:"AddressLine",to:"addressLine"},{from:"City",to:"locality"},{from:"SubRegion",to:"subRegion"},{from:"State",to:"region"},{from:"Country",to:"country"},{from:"CountryCode",to:"isoCode"},{from:"Accuracy",to:"accuracy"},{from:"DefinitionName",to:"definitionName"},{from:"PopIpDialog",to:"popIpDialog"}],c=[{from:"Language",to:"language",trans:e=>e||r.Al.Locale},{from:"Accuracy",to:"accurateEnough",trans:e=>0===e||null==e||e<207026}];function l(e){if(!e)return null;const t=function(e){return(0,i.N)([],s,c)(e)}(e);return t.displayName=(0,n.Gf)(t),t}function d(e){const t=parseInt(e);return!(isNaN(t)||t<=0||t>500)}function u(e,t,a){const n=t?{dailyAsOption:!0}:void 0;return o.s9.TranslateToWeatherOverview(e.response,{location:e.location,locStrResolver:e.locStrResolver},n,!1,a)}},22409:function(e,t,a){a.d(t,{Er:function(){return c},Xl:function(){return b},qz:function(){return p},rF:function(){return g}});var n=a(90057),r=a(74750);const i=["pvdrIcon","symbol","uvDesc","feels","windDir","windDir","richCaps","aqiSeverity","aqLevel","primaryPollutant","comingWeather"],o=[{from:"capAbbr",to:"shortCap"}],s=[{from:"temp",to:"currentTemperature",trans:e=>e&&e.toString()},{from:"ufTemp",to:"ufTemp",trans:e=>e&&e.toString()},{from:"cap",to:"skycode",trans:e=>({children:e})},{from:"uv",to:"uv",trans:e=>Math.floor(e)},{from:"rh",to:"humidity",trans:e=>`${Math.floor(e)}%`},{from:"dewPt",to:"dewPoint",trans:e=>null!=e?`${e}째`:"N/A"},{from:"aqi",to:"aqi",trans:e=>`${e}`}];function c(e){return(0,r.N)(i,o,s)(e)}const l=["symbol","uv","uvDesc"],d=[{from:"tempHi",to:"highTemp"},{from:"tempLo",to:"lowTemp"},{from:"windMax",to:"windMaxRaw"},{from:"pvdrCap",to:"cap"}],u=[{from:"pvdrCap",to:"image",trans:e=>{}},{from:"pvdrIcon",to:"normalizedSkyCode",trans:e=>n.qz.getWeatherNormalizedSkyCode(e)},{from:"rhLo",to:"humidity",trans:e=>`${e}`},{from:"rhLo",to:"humidityLow",trans:e=>`${e}`},{from:"rhHi",to:"humidityHi",trans:e=>`${e}`},{from:"rhHi",to:"humidityHi",trans:e=>`${e}`}];function p(e){return(0,r.N)(l,d,u)(e)}const h=["cap","rh","symbol","icon","feels","pvdrIcon","windDir","pvdrWindSpd","summary","rainAmount","snowAmount","ufTemp","raAccu","saAccu"],m=[{from:"temp",to:"temperature"},{from:"tempDesc",to:"temperatureDesc"},{from:"valid",to:"timeStr"},{from:"pvdrWindDir",to:"windDesc"}],y=[{from:"baro",to:"airPressure",trans:e=>null!=e?`${e}`:"N/A"},{from:"rh",to:"humidity",trans:e=>null!=e?`${e}%`:"N/A"},{from:"dewPt",to:"dewPt",trans:e=>null!=e?`${e}째`:"N/A"},{from:"cloudCover",to:"cloudCover",trans:e=>null!=e?`${e}%`:"N/A"},{from:"vis",to:"visibility",trans:e=>null!=e?parseFloat(e):null},{from:"pvdrIcon",to:"normalizedSkyCode",trans:e=>n.qz.getWeatherNormalizedSkyCode(e)},{from:"symbol",to:"daytime",trans:e=>e&&e.includes("n")?"n":"d"},{from:"windSpd",to:"windSpeed",trans:e=>e+""},{from:"precip",to:"precipitation",trans:e=>null!=e?`${e}`:"N/A"},{from:"uv",to:"uv",trans:e=>null!=e?e:"N/A"}];function g(e){return(0,r.N)(h,m,y)(e)}const f=["feels","daytime","cap","pvdrIcon","symbol","windDir","pvdrWindSpd"],w=[{from:"temp",to:"temperature"},{from:"pvdrWindDir",to:"windDesc"},{from:"vis",to:"visibility"}],v=[{from:"pvdrIcon",to:"normalizedSkyCode",trans:e=>n.qz.getWeatherNormalizedSkyCode(e)},{from:"windSpd",to:"windSpeed",trans:e=>e+""},{from:"uv",to:"uv",trans:e=>null!=e?e:"N/A"},{from:"cloudCover",to:"cloudCover",trans:e=>null!=e?`${e}%`:"N/A"},{from:"rh",to:"humidity",trans:e=>null!=e?`${e}%`:"N/A"},{from:"dewPt",to:"dewPt",trans:e=>null!=e?`${e}째`:"N/A"},{from:"baro",to:"airPressure",trans:e=>null!=e?`${e}`:"N/A"}];function b(e){return(0,r.N)(f,w,v)(e)}},74750:function(e,t,a){function n(e,t,a){return n=>{const r={};return e.forEach((e=>function(e,t,a){t[a]=e[a]}(n,r,e))),t.forEach((e=>{return t=n,a=r,i=e.from,o=e.to,void(a[o]=t[i]);var t,a,i,o})),a.forEach((e=>{return t=n,a=r,i=e.from,o=e.to,s=e.trans,void(a[o]=s(t[i]));var t,a,i,o,s})),r}}a.d(t,{N:function(){return n}})},37209:function(e,t,a){a.d(t,{Dw:function(){return o},Gy:function(){return s},Sx:function(){return c},yt:function(){return l}});var n=a(95379),r=a(90057),i=a(22409);function o(e){return"째錫錫꿋錫｀仙錫錫仙"===e||"째"===e||e===n.a.Fahrenheit?{degree:"째F",unit:n.a.Fahrenheit}:"째仙錫錫仙錫錫듀륭錫"===e||"째"===e||e===n.a.Celsius?{degree:"째C",unit:n.a.Celsius}:(""+e).replace(/\u200e/g,"").includes("F")?{degree:"째F",unit:n.a.Fahrenheit}:{degree:"째C",unit:n.a.Celsius}}function s(e,t){if(!e?.responses?.[0]?.weather?.[0]?.current)return null;const a=e.responses[0].weather[0],n="n"===a.current.daytime,{degree:i}=o(e.units.temperature),s=a.current;return{isAlert:a.alerts&&a.alerts.length>0,currentTemperature:s.temp&&s.temp.toString(),ufTemp:s.ufTemp&&s.ufTemp.toString(),pvdrIcon:s.pvdrIcon,symbol:s.symbol,normalizedSkyCode:r.qz.getWeatherNormalizedSkyCode(s.pvdrIcon),shortCap:s.capAbbr,skycode:{children:s.cap},precipitation:{children:a.forecast&&a.forecast.days&&a.forecast.days[0]&&a.forecast.days[0].daily&&null!=a.forecast.days[0].daily.precip?`${a.forecast.days[0].daily.precip}%`:void 0},deepLink:"",degreeSetting:i,uv:Math.floor(s.uv),uvDesc:s.uvDesc,feels:s.feels,humidity:`${Math.floor(s.rh)}%`,windDesc:`${s.pvdrWindDir} ${s.pvdrWindSpd}`,windSpeed:`${s.windSpd} ${e.units.speed}`,windDir:s.windDir,dewPoint:null!=s.dewPt?`${s.dewPt}째`:"N/A",baro:`${a.current.baro} ${e.units.pressure}`,visiblity:`${a.current.vis} ${e.units.distance}`,richCaps:a.current.richCaps,aqi:`${a.current.aqi}`,aqiSeverity:a.current.aqiSeverity,primaryPollutant:a.current.primaryPollutant,isNight:n,currentRaw:s,unitsRaw:e.units,locationRaw:t,alertCount:s.alertCount,alertSignificance:s.alertSignificance,comingWeather:a?.current?.comingWeather,life:a.life,source:e.responses[0].source}}function c(e,t){return{...(0,i.rF)(e),pressureUnit:t.pressure,windGust:null!=e.windGust?`${e.windGust} ${t.speed}`:"N/A",vis:null!=e.vis?`${e.vis} ${t.distance}`:"N/A",time:new Date(e.valid),windSpeedUnit:t.speed,precipitationHeightUnit:t.height}}function l(e){return null==e?"":`${e}째`}},94246:function(e,t,a){a.d(t,{MP:function(){return w},s9:function(){return v},vI:function(){return m}});var n=a(12655),r=a(58043),i=a(90057),o=a(59046),s=a(77286),c=a(88826),l=a(7476),d=a(88512),u=a(37209),p=a(23549),h=a(22409);class m{constructor(e,t){this.truncateTimezone=e,this.locationHref=t}setLocationHref(e){this.locationHref=e}TranslateToWeatherOverview(e,t,a,n=!1,r=null){const d=a||{};if(!function(e,t){if(!(e&&e.responses&&e.responses[0]&&e.responses[0].weather&&e.responses[0].weather[0]&&e.responses[0].weather[0].current))return!1;const a=e.responses[0].weather[0];if(a.forecast&&a.forecast.days&&a.forecast.days.length>0)return!0;if(!t)return!1;return p.M0&&p.M0.sendAppErrorEvent((0,c.Tr)(l._Rg,"No daily forecast data in weather summary",a.toString()),!1),!0}(e,d.dailyAsOption))throw new Error("Weather Service response schema validation error: no summary found!");const m=e.responses[0].weather[0],w=e.responses[0].source,{degree:v,unit:b}=(0,u.Dw)(e.units.temperature),C=m.current,T="n"===C.daytime,S=this.locationHref?{locationHref:this.locationHref}:{},{location:L,locStrResolver:k}=t,$=(0,s.ss)(L,b,k,S),I=$.indexOf("?")>0?"&":"?",M=m.alerts||[],P=M[0]||null,A=M.length,F=P?P.significance:"",N=e.units,W={...(0,h.Er)(C),normalizedSkyCode:i.qz.getWeatherNormalizedSkyCode(C.pvdrIcon),precipitation:{children:m.forecast&&m.forecast.days&&m.forecast.days[0]&&m.forecast.days[0].daily&&null!=m.forecast.days[0].daily.precip?`${m.forecast.days[0].daily.precip}%`:void 0},deepLink:$,degreeSetting:v,windDesc:`${C.pvdrWindDir} ${C.pvdrWindSpd}`,windSpeed:`${C.windSpd} ${N.speed}`,baro:`${C.baro} ${N.pressure}`,visiblity:`${C.vis} ${N.distance}`,isNight:T,currentRaw:C,unitsRaw:N,locationRaw:L,isAlert:!!A,alertCount:A,alertSignificance:F,life:m.life};!function(e,t){try{const{speed:a="",temperature:n=""}=t;if(e&&`${e}`.length>15||a.length>15||n.length>10){const a="Wind/Temperature unit is too long in weatherOverview's response.",n=`windSpeed: ${e}, units: ${JSON.stringify(t)}`;p.M0&&p.M0.sendAppErrorEvent((0,c.Tr)(l._Rg,a,n),!1)}}catch{return}}(C.windSpd,N);const R=[];let z=null;const O=m.forecast&&m.forecast.days&&m.forecast.days.length||0;for(let e=0;e<O;++e){const t=m.forecast.days[e],a=t.daily,n=T?a.night:a.day,r=0===e?n:a.day;let o,s;if(this.truncateTimezone&&a.valid&&a.valid.includes("T")){const e=a.valid.split("T")[0].split("-");o=new Date(Number(e[0]),Number(e[1])-1,Number(e[2]))}else o=a.valid&&new Date(a.valid);null!=a.windMax?s=`${a.windMax} ${N.speed}`:null!=a.pvdrWindSpd&&(s=`${a.pvdrWindDir} ${a.pvdrWindSpd}`);const c={...(0,h.qz)(a),id:Math.random().toString(24).substring(2),day:o,dayNightSummaries:f(a),summaries:r?r.summaries:[],pvdrIcon:a.pvdrIcon||""+a.icon,precipitation:null!=a.precip?`${a.precip}`:"N/A",rainAmount:g(a.rainAmount,N.height),snowAmount:g(a.snowAmount,N.height),validTime:new Date(a.valid),dayCode:a.day?.pvdrIcon||a.day?.icon?.toString(),dayCap:a.day?.pvdrCap||a.day?.cap||a.pvdrCap,daySymbol:a.day?.symbol,nightCode:i.qz.getWeatherNormalizedSkyCode(a.night?.pvdrIcon||a.night?.icon?.toString()||a.pvdrIcon),nightCap:a.night?.pvdrCap||a.night?.cap||a.pvdrCap,nightSymbol:a.night?.symbol,nightPrecipitation:null!=a.night?.precip?`${a.night.precip}`:"N/A",windSpeed:n?`${n.windSpd}`:"N/A",windSpeedUnit:N.speed,windMax:s,windMaxDir:null!=a.windMax?a.windMaxDir:null,airPressure:"N/A",almanac:t.almanac,deepLink:`${$}${I}day=${e+1}`,hourly:[],raToMN:a.raToMN,saToMN:a.saToMN};if(t.hourly)for(let e=0;e<t.hourly.length;++e){const a=t.hourly[e];z=z||a,c.hourly.push((0,u.Sx)(a,N))}R.push(c)}if(d.weatherApi&&-1===d.weatherApi.history&&z&&!n){const e=function(e,t,a,n){const r=t.valid?(0,o.TR)(new Date(t.valid),-1):new Date;return[{...(0,h.Xl)(e),time:r,timeStr:r&&(0,o.Y6)(r,a),windSpeedUnit:n.speed,windGust:null!=e.windGust?`${e.windGust} ${n.speed}`:"N/A",pressureUnit:n.pressure,vis:null!=e.vis?`${e.vis} ${n.distance}`:"N/A"}]}(C,z,w&&w.utcOffset,N);e&&e.length>0&&(R[0].hourly=e.concat(R[0].hourly))}return{...y(m,e),lastUpdated:x(m.current&&C.created,w,r??m.disableFreshCheck),insights:m?.insights?.insights,currentCondition:W,forecast:R,pollen:m.jwapollen||m.pollen,nowcasting:D(m.nowcasting),source:w,provider:m.provider,aqiProvider:m.aqiProvider,alertsInfo:P,alertsInfoList:M,unit:b,lifeDaily:m.lifeDaily,lifeActivityData:m.LifeActivityResp,forecastVideo:m.forecastVideo,activityIndexDaily:m.activityIndexDaily,stormInfo:m.storminfo?{...m.storminfo||{},distance:e.units.distance}:null,cameraInfo:m.trafficCamera?.cameras[0],iconMap:m.iconMap}}}function y(e,t){const a=function(e){try{const t=e.contentdata,a=[];return t&&t.length?(t.forEach((e=>{if(!e||!e.contenttype)return;const t={id:e.id,cid:e.cid,ranking:e.ranking?e.ranking:0,contenttype:e.contenttype,cf:e.cf,content:[]};e.content&&e.content.forEach((e=>{e&&t.content.push({...e})})),a.push(t)})),a.length>0?a:null):null}catch{return null}}(e),n=function(e){return e.mapsmetadata}(e),r=function(e){try{if(!e||!e.previews||!Array.isArray(e.previews)||e.previews.length<1)return null;const t=e.previews,a=[];return t.forEach((e=>{if(!e||!e.PreviewType||!e.Body||!Array.isArray(e.Body)||e.Body.length<1)return;const t=e.Body,n={};t&&t.length>0&&t[0]&&t[0].Url&&(n.iconUrl=t[0].Url),t&&t.length>1&&t[1]&&t[1].Text&&(n.text=t[1].Text),t&&t.length>2&&t[2]&&t[2].Text&&(n.subText=t[2].Text),Object.keys(n).length<1||a.push({previewType:e.PreviewType,content:n})})),a.length>0?a:null}catch{return null}}(t),i=function(e){const t=e.commentary&&e.commentary.styles;if(!t)return null;const a=e=>e&&e.chip&&e.commentary?e:null,n={None:"Neutral","a-grumpy-person":"Grumpy","a-happy-person":"Happy",pirate:"Pirate"},r={};for(const e in t){const i=t[e];if(!i||!i.displayName||!i.commentaries?.big_widget||!Array.isArray(i.commentaries.big_widget)||i.commentaries.big_widget.length<1)continue;const o=i.commentaries.big_widget.map((e=>a(e))).filter((e=>!!e));o.length<1||(r[n[e]]={displayName:i.displayName,commentaries:{big_widget:o}})}return r}(e);return{contentData:a,...r&&{previews:r},mapsMetaData:n,commentary:i}}function g(e,t){return null!=e&&`${e} ${t}`}function f(e){const t=new Map;if(!e)return t;return["day","night","tmr"].forEach((a=>{const n=e[a]&&e[a].summaries;n&&t.set(a,n)})),t}function w(e,t){const a=[];return a.push(t),e&&(a.push(e.pvdrIcon),a.push(e.uv),a.push(e.temp),a.push(e.feels),a.push(e.rh),a.push(e.windSpd),a.push(e.aqi),a.push(e.vis),a.push(e.symbol)),a.toString()}const v=new m(!0);function b(e){return e>=n.s8.RainThreshold}function D(e){let t;if(e){const a=(0,r.Z)(e.precipitation,b);t={...e,isRaining:a,useNowcastSummary:a&&e.summary&&e.shortSummary}}return t}function x(e,t,a=!1){if(!e||a)return e;try{const a=Date.now()-new Date(e).getTime();if(a>=36e5){const n="Weather data stale more than 1 hour",r=`id: ${t?.id}, lat: ${t?.coordinates?.lat}, lon: ${t?.coordinates?.lon}, created: ${e}, requested: ${(new Date).toLocaleString()}, latency: ${a}`,i=(0,c.Tr)(l.dlb,n,r);p.M0&&p.M0.sendAppErrorEvent(i,!1),d.k.log(`${n}, ${r}`)}}catch(t){(0,c.OO)(Error("created:"+e),l.dlb,"error in library [weather-shared],Weather data created time invalid")}return e}},41653:function(e,t,a){a.d(t,{xL:function(){return C},v8:function(){return D},ae:function(){return x}});var n,r,i=a(95379),o=a(19628);!function(e){e.year="year",e.month="month",e.day="day",e.hour="hour",e.minute="minute",e.second="second"}(n||(n={})),function(e){e.numeric="numeric",e.digit2="2-digit"}(r||(r={}));n.year,n.month,n.day,n.hour,n.minute,n.second;function s(e){const t=(e.lastUpdated||e.currentCondition?.currentRaw?.created||"").match(/(\d{2}):(\d{2}):(\d{2})/);return t?.length>2?parseInt(t[1]):(new Date).getHours()}function c(e){return l(e,3)}function l(e,t){const a=(e.lastUpdated||e.currentCondition?.currentRaw?.created||"").match(/(\d{4})-(\d{2})-(\d{2})/);return a?.length?a[t]:""}var d=a(39157),u=a(23549);const p=/(\d{4})-(\d{2})-(\d{2})T\d{2}:\d{2}:\d{2}([+-]?\d{2}):(\d{2})/,h="ForecastVideo";var m,y;!function(e){e.Today="today",e.Tomorrow="tomorrow"}(m||(m={})),function(e){e.Small="small",e.Video="video",e.L1="l1",e.Entry="entry"}(y||(y={}));function g(e){const t=e.match(/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})/);if(t.length)return{y:parseInt(t[1]),M:parseInt(t[2]),d:parseInt(t[3]),h:parseInt(t[4]),m:parseInt(t[5])}}function f(e,t){if(!e.forecastVideo)return;Number(c(e));const a=e.forecastVideo.todayForecastVideo,n=w(e,"todayForecastVideo");if("today"===t&&n)return a;const r=e.forecastVideo.tomorrowForecastVideo;return"today"===t&&w(e,"tomorrowForecastVideo",1)||"tomorrow"===t&&w(e,"tomorrowForecastVideo")?r:void 0}function w(e,t,a){if(!e.forecastVideo)return!1;const n=Number(c(e)),r=e.forecastVideo[t];return r?.timestamp&&function(e,t){const a=new Date(e);return a.setDate(a.getDate()+t),a.getDate()}(r.timestamp,a||0)==n&&r.videoSrc}function v(e,t,a=0){if(!e||!t)return-1;try{const{y:n,M:r,d:i,h:o,m:s}=g(e)||{},[,c,l,d,u,h]=t.match(p),m=b([n,r,i,o,s+(60*+u+ +h)]),y=b([c,l,+d+a,0,0]);return m.setUTCHours(0,0,0,0),y.setUTCHours(0,0,0,0),Math.max(Math.floor((+y-+m)/864e5),0)}catch(e){return console.error(e),-1}}function b(e){const[t,a,n,r,i]=e;return new Date(Date.UTC(+t,+a-1,+n,+r,+i))}function D(e,t){const a=s(e);return!(t?a>=16&&a<=20:a>12)}function x(e,t){const a=e?.source?.id,n=f(e,D(e,!0)?"today":"tomorrow");if(function(e){const t=s(e);return t>=16&&t<=20||t>=6&&t<=10}(e)&&a&&n){const e=`enableIp_${t}_locationId_${a}`;u.M0.addOrUpdateTmplProperty(h,e)}else u.M0&&u.M0.removeTmplProperty(h)}function C(e,t,a){return(t?S:T).apply(this,[e,t,a])}function T(e,t,a){if(!(e.mapsMetaData&&e.mapsMetaData.ForecastVideo&&a&&a.metadata))return;const n=Object.keys(e.mapsMetaData.ForecastVideo.uris||{})[0],r=e.mapsMetaData.ForecastVideo.uris[n],s=JSON.parse(a.metadata)||{};if(!r||!s.LocationID)return;const c=D(e,t),l=v(n,e.lastUpdated||e.currentCondition?.currentRaw?.created,c?0:1);if(l<0||l>2)return;const d={unit:e.unit==i.a.Fahrenheit?"f":"c",locationId:s.LocationID,type:"short",timestamp:n,day:l};return{source:o.Ld.Format(r,{...d,format:"mp4"}),poster:o.Ld.Format(r,{...d,format:"jpg"})}}function S(e,t,a){if(!e.forecastVideo)return;const n=f(e,D(e,t)?"today":"tomorrow");if(!n||!n.videoPoster)return;const r=d.jG.IsChinaCompliance?"https://assets.msn.cn/weathermapdata/1":"https://assets.msn.com/weathermapdata/1";return{source:"",poster:o.Ld.Format(r+n.videoPoster,{type:"entry"})}}},95379:function(e,t,a){var n,r;a.d(t,{a:function(){return n}}),function(e){e[e.Fahrenheit=1]="Fahrenheit",e[e.Celsius=2]="Celsius"}(n||(n={})),function(e){e.MPH="mph",e.KMH="km/h",e.MS="m/s",e.BFT="bft",e.MILE="mi",e.METER="m",e.MM="mm",e.CM="cm",e.MB="mb",e.HPA="hPa",e.IN="in"}(r||(r={}))},17105:function(e,t,a){var n,r,i,o;a.d(t,{p0:function(){return i}}),function(e){e[e.Unknown=1]="Unknown",e[e.Background=2]="Background",e[e.Foreground=3]="Foreground"}(n||(n={})),function(e){e[e.Temperature=1]="Temperature",e[e.SevereWeather=2]="SevereWeather",e[e.Hurricane=3]="Hurricane",e[e.Tiles=4]="Tiles"}(r||(r={})),function(e){e.Temperature="temperature",e.SevereWeather="severeweather",e.Hurricane="hurricane",e.AQI="airquality",e.Precipitation="precipitation",e.Pollen="pollen",e.PollenIndex="pollenindex",e.WildfirePoint="wildfire",e.Lightning="lightning"}(i||(i={})),function(e){e.Image="image",e.Tile="tile"}(o||(o={}))},23622:function(e,t,a){a.d(t,{U:function(){return n}});const n=a(78923).i`
    .sd-action:not([appearance="lightweight"]) {
        --control-corner-radius: 999;
        font-size: var(--type-ramp-minus-1-font-size);
        line-height: var(--type-ramp-minus-1-line-height);
    }

    .sd-action::part(control) {
        width: 100%;
    }

    .sd-action::part(content) {
        -webkit-box-orient: vertical;
        -webkit-line-clamp: 1;
        text-overflow: ellipsis;
        overflow: hidden;
    }
`},74605:function(e,t,a){a.d(t,{g:function(){return o}});var n=a(23549),r=a(7476);const i=new Set;function o(e,t,a){const{type:o,error:s,customMessage:c}=e.detail||{};if(i.has(c))return;i.add(c);const l="image"===s?r.kgv:r.sCZ;n.M0.sendAppErrorEvent({...l,message:`error in experience [${a}],Mini map ${o} load failed: ${t}`,pb:{...l.pb,customMessage:c}})}},57978:function(e,t,a){a.d(t,{KI:function(){return l},KW:function(){return o},OS:function(){return i},TW:function(){return s},aL:function(){return c},pI:function(){return d},zA:function(){return r}});var n=a(82898);function r(e,t,a,r=0){const i={...e?.contract,name:"seemorelink",action:n.Aw.Click,behavior:n.wu.Navigate,type:n.c9.Footer,content:{...e?.contract?.content},overrideDestinationUrl:t?.link},o={footerButton:{text:t?.ctaContent||"",ctaClick:()=>{window.open(t?.link)}},telemetryContext:{footerButton:e&&e.addOrUpdateChild(i)}},{uxFormat:s,teaserCustomData:c}=t||{};if("miniL1"==s&&c&&c.tabs&&c.tabs.length>0){const e=c.tabs;o.paginationData={currentPageIndex:r+1,onDotClick:(e,t)=>{a(e)},onFlipperClick:(t,n)=>{let i=r;i=t?r<e.length-1?r+1:0:r>0?r-1:e.length-1,a(i)},pageCount:e.length}}return o}function i(e,t,a){return e&&e.interestManagerData?{...e,interestManagerData:{...e.interestManagerData,interestOptions:t,notificationToastData:a}}:e}function o(e){return"small"===e||"half"===e}function s(e){return"full"===e||"medium"===e}function c(e){return"large"===e||"tall"===e}const l="svg/icons-wc/weather/HomeFilled.svg",d="svg/icons-wc/weather/LocationArrow.svg"},94943:function(e,t,a){a.d(t,{BU:function(){return l},Dm:function(){return c},Qw:function(){return s},eE:function(){return d}});var n=a(4005),r=a(73886),i=a(45648),o=a(57978);function s(e,t){return!(!e||!t)&&(0,n.eu)(e,t)}function c(e,t,a,n){const r=[],i=n||e;if(i&&r.push([i,!0,!1]),t&&!s(i,t)&&r.push([t,!1,!0]),a)for(const e of a)s(i,e)||s(t,e)||r.push([e,!1,!1]);return r}function l(e,t,a,c,l){const{home:d,followedLocations:u}=t;return e.map((e=>{const t=e.firstLine||r.Gf(e),p=function(e,t){return!!e&&e?.filter((e=>(0,n.eu)(e,t))).length>0}(u,e),h={id:r._v(e),interestName:t,interestType:e.secondLine,isFollowed:p},m=s(d,e),y=[];return m?y.push({type:"icon",image:(0,i.Jn)(o.KI)}):y.push({type:"button",image:(0,i.Jn)(o.KI),label:c.setPrimaryLocation,telemetryTag:l?.switchLocation?.getMetadataTag(),onClick:()=>a?.setPrimaryLocationWithToast(e,!0)}),m||p?y.push({type:"icon",image:(0,i.Jn)("svg/icons-wc/weather/Checked.svg")}):h.actionButton={type:"button",image:(0,i.Jn)("svg/icons-wc/weather/Add.svg"),label:c.intestListFollowNew,telemetryTag:l?.addLocation?.getMetadataTag(),onClick:()=>a?.followLocationWithToast(e)},{...h,addons:y}}))}function d(e,t,a,n){return e.map((([e,s,c])=>{const l=[],d={type:"button",image:(0,i.Jn)(o.KI),label:a.setPrimaryLocation,telemetryTag:n?.switchLocation.getMetadataTag(),onClick:()=>t?.setPrimaryLocationWithToast(e)};s?l.push({type:"icon",image:(0,i.Jn)(o.KI),label:a.superSdCard?.interestListPrimary||""}):c?(l.push({type:"icon",image:(0,i.Jn)(o.pI),label:a.superSdCard?.interestListDetect}),l.push({...d})):l.push({...d});const u={type:"button",disabled:s||c,image:(0,i.Jn)("svg/icons-wc/weather/Reduce.svg"),label:s||c?a.disableRemoveLocationTooltip:a.removeLocationTooltip,telemetryTag:n?.removeLocation.getMetadataTag(),onClick:()=>t?.removeFollowedLocation(e)||{}};return{id:r._v(e),interestName:r.Gf(e,{skipCountry:!0,skipOldName:!0}),interestType:r.Gf(e,{skipAddressLine:!0,skipLocale:!0,skipOldName:!0}),isFollowed:!1,addons:l,actionButton:u}}))}},44245:function(e,t,a){a.d(t,{n:function(){return o},w:function(){return s}});var n=a(45648),r=a(17449),i=a(49218);const o=i.dy`<img src="${e=>(0,n.ld)("waterDrop.svg",r.Mx)}" class="weather-current-precipitation-glyph"></img>`,s=i.dy`<img src="${e=>(0,n.ld)("rightArrow.svg",r.Mx)}" class="weather-arrow-glyph"></img>`},85681:function(e,t,a){a.d(t,{Sr:function(){return i},Z7:function(){return o},uv:function(){return r}});const n={blankAreaTelemetryTag:"blankArea",seeForecastTelemetryTag:"seeForecastAnchor",ePlantTelemetryTag:"ePlantButton",headerTelemetryTag:"headerAnchor",weaConditionTelemetryTag:"currentAnchor",forecastDayTelemetryTags:"dailyForecasts",miniL1TabTelemetryTags:"miniL1Tabs",forecastDayTelemetryTag:"dailyForecast",locationTelemetryTag:"locationAnchor",forecastHourTelemetryTags:"hourlyForecasts",summaryTelemetryTag:"summaryAnchor",precipitationChartTelemetryTag:"precipChart",trendChartTelemetryTag:"trendChart",trendChartNonNavTelemetryTag:"trendChartNonNav",boldMatchTelemetryTag:"boldMatch",weatherAqiTelemetryTag:"airQuality",alertTextTelemetryTag:"alertText",teaserPanelNavTelemetryTag:"teaserPanelNav",aqPanelNavTelemetryObject:"aqiPanelNav"};function r(e,t){const a=e&&n[t];if(!a)return"";const r=e[a];return r.getMetadata?r.getMetadataTag():""}function i(e,t,a){const r=e&&n[t];if(!r)return"";const i=e[r];return i.length?i[a]:""}function o(e,t){return e&&e.contract?(e.updateContract({...e.contract,name:t,content:{...e.contract?.content?.headline?{...e.contract.content,headline:t}:{}}}),e.getMetadataTag()):""}},48578:function(e,t,a){var n;a.d(t,{E:function(){return n}}),function(e){e[e.AutoDetectLoc=1]="AutoDetectLoc",e[e.SpecifyLoc=2]="SpecifyLoc"}(n||(n={}))},19786:function(e,t,a){a.d(t,{ZM:function(){return y},xI:function(){return h},zi:function(){return g}});var n=a(33940),r=a(28904),i=a(31699),o=a(42590),s=a(99452),c=a(85681),l=a(23549),d=a(45129),u=a(57978),p=a(21930);class h extends r.H{constructor(){super(...arguments),this.enableEPlant=!1,this.ePlantLabel="",this.ePlantIcon="",this.showSummary=!1,this.tabIdx=0,this.minimapLoading=!1,this.minimapLoaded=!1,this.trendChartTemplateLoaded=!1}layoutChanged(){this.updateShowSummary()}enableEPlantChanged(e,t){t&&t!==e&&this.loadDynamicTemplateByScenario()}minimapChanged(){this.loadDynamicTemplateByScenario()}weatherDataChanged(e,t){this.updateSummarySize(),this.updateShowSummary(),l.M0.removeTmplProperty("WeatherSummaryHovered"),this.tabIdx=t&&t.teaserCustomData&&t.teaserCustomData.tabIdx,this.loadDynamicTemplateByScenario()}sourceLoadError(e){e&&e.style&&(e.style.display="none")}updateSummarySize(){const e=this.weatherData?.temperature?.toString()?.length,t=this.weatherData?.summaryData?.summaryLine1&&this.weatherData?.summaryData?.summaryLine2&&this.weatherData.summaryData.summaryLine1.length,a=this.weatherData?.summaryData?.summaryLine1&&this.weatherData?.summaryData?.summaryLine2&&this.weatherData.summaryData.summaryLine2.length;this.longSummary=!!(e&&t&&e>2&&t>9||e&&a&&e>1&&a>18)}updateShowSummary(){this.weatherData&&this.weatherData.summaryData?this.weatherData.summaryData.disable1U?this.showSummary="half"===this.layout||"small"===this.layout:this.showSummary=!0:this.showSummary=!1}connectedCallback(){super.connectedCallback(),this.focusToCard&&i.S.queueUpdate((()=>{this.focus()})),this.layout||(this.layout="half"),this.target||(this.target="_blank"),this.updateSummarySize(),this.loadDynamicTemplateByScenario()}async loadDynamicTemplate(){await a.e("weather-shared-wc-deferred-dev").then(a.bind(a,62598)),"eplantSpecialDay"===this.primaryCarousel&&await a.e("weather-shared-wc-deferred-dev").then(a.bind(a,66157))}async loadDynamicTemplateByScenario(){const{teaserCustomData:e,summaryData:t}=this.weatherData||{},{tabs:n}=e||{};e?.showTrendChart&&!this.trendChartTemplateLoaded&&(await a.e("weather-shared-wc-deferred-trend-chart").then(a.bind(a,39644)),this.trendChartTemplateLoaded=!0),!this.minimap||this.minimapLoading||this.minimapLoaded||(this.minimapLoading=!0,this.minimap.loadAfterTTVR&&await(0,p.b1)(),await Promise.all([a.e("common-feed-libs"),a.e("weather-minimap-wc")]).then(a.bind(a,31193)),this.minimapLoading=!1,this.minimapLoaded=!0),"aqDashboard"===this.primaryCarousel&&await a.e("weather-shared-wc-deferred-content").then(a.bind(a,72386)),this.enableEplantIcon()&&await a.e("weather-shared-wc-deferred-content").then(a.bind(a,37278)),n?.some((e=>"trend"===e?.type))&&await a.e("weather-shared-wc-deferred-content").then(a.bind(a,89695)),n?.some((e=>"precipitation"===e?.type))&&await a.e("weather-shared-wc-deferred-content").then(a.bind(a,9309)),n?.some((e=>"multiInfo"===e?.type))&&await a.e("weather-shared-wc-deferred-content").then(a.bind(a,18510)),t?.boldUx&&await a.e("weather-shared-wc-deferred-content").then(a.bind(a,99970))}disconnectedCallback(){super.disconnectedCallback()}t(e){return(0,c.uv)(this.telemetry,e)}telemetryWithIndex(e,t){return(0,c.Sr)(this.telemetry,e,t)}showRotationUX(){return!!(this.weatherData&&this.weatherData.rotationDisplayContentType&&this.weatherData.rotationDisplayContentType.length)}getDynamicTemplateType(){return this.primaryCarousel?m.has(this.primaryCarousel)?"specialUx":!this.minimap||this.weatherData&&this.weatherData.teaserCustomData&&this.weatherData.teaserCustomData.disableAnimateMinimap?this.minimap&&this.weatherData&&this.weatherData.rotationDisplayContentType&&"minimap"===this.weatherData.rotationDisplayContentType[0]?"minimap":"forecastlist":"minimap":"forecastlist"}handleMiniL1TabClick(e){this.$emit("handleTabClick",e)}onKeyDown(e,t){return e&&"Enter"==e.key&&this.$emit("handleTabClick",t),!0}showDailyForecast(){return!!this.weatherData.forecastData&&this.weatherData.forecastData.length>0&&(!this.weatherData.showOnlyList||!(!this.weatherData||!this.weatherData.rotationDisplayContentType||"daily"!==this.weatherData.rotationDisplayContentType[0]))}enableEplantIcon(){const e=this.enableEPlant&&!!this.ePlantIcon&&((0,u.KW)(this.layout)||"eplantSpecialDay"!==this.primaryCarousel);return l.M0.removeTmplProperty(d.RG),e&&l.M0.addOrUpdateTmplProperty(d.RG,"1"),e}getMiniL1TabStyle(e,t){return e?"wea_tab_a":"#2B2B2B"===t?.backgroundData?.textColor?"wea_tab_b":""}}(0,n.gn)([o.Lj],h.prototype,"layout",void 0),(0,n.gn)([o.Lj],h.prototype,"target",void 0),(0,n.gn)([(0,o.Lj)({mode:"boolean"})],h.prototype,"focusToCard",void 0),(0,n.gn)([s.LO],h.prototype,"enableEPlant",void 0),(0,n.gn)([o.Lj],h.prototype,"ePlantLabel",void 0),(0,n.gn)([o.Lj],h.prototype,"ePlantIcon",void 0),(0,n.gn)([(0,o.Lj)({mode:"boolean"})],h.prototype,"showSummary",void 0),(0,n.gn)([o.Lj],h.prototype,"cardType",void 0),(0,n.gn)([s.LO],h.prototype,"minimap",void 0),(0,n.gn)([o.Lj],h.prototype,"tabIdx",void 0),(0,n.gn)([s.LO],h.prototype,"weatherData",void 0),(0,n.gn)([s.LO],h.prototype,"telemetry",void 0),(0,n.gn)([s.LO],h.prototype,"primaryCarousel",void 0),(0,n.gn)([s.LO],h.prototype,"longSummary",void 0),(0,n.gn)([s.LO],h.prototype,"animationSource",void 0),(0,n.gn)([s.LO],h.prototype,"minimapWce",void 0),(0,n.gn)([s.LO],h.prototype,"videoEntryWce",void 0);const m=new Set(["dailyforecast","eplantSpecialDay","video","aqDashboard"]);function y(e){return e&&e.includes("forecast")?e.replace("forecast","hourlyforecast"):e}function g(e){if(!e)return"";const t=function(e){let t=0;for(let a=0;a<e.length;a++)e.charCodeAt(a)>=0&&e.charCodeAt(a)<=127?t+=1:t+=2;return t}(e);let a="119px;";return 1==t?a="163px;":2==t&&(a="140px;"),`--summaryLen:${a}`}},76520:function(e,t,a){a.d(t,{Ru:function(){return oe},HW:function(){return ie}});var n=a(49218),r=a(93703);const i=n.dy`<div class="nowcast-animation-bg nowcast-animation-bg-${e=>e.layout}" part="super-sd-nowcast-animation-bg"><img class="nowcast-animation-img" src="${e=>e.animationSource}" @error=${(e,t)=>e.sourceLoadError(t.event.target)}/></div>`;var o=a(89150),s=a(37209),c=a(44245);const l=n.dy`<li><fluent-anchor class="weather-forecast-item weather-forecast-item-5col weather-forecast-item-npro" part="weather-forecast-item-5col" href="${e=>e.forecastLink}" tabIndex=0 target=${(e,t)=>t.parent.target} aria-label=${e=>`${e.itemAriaLabel} ${e.hourOfDay} ${e.temperature}째 ${e.precipitation}`} data-t="${(e,t)=>t.parent.telemetryWithIndex("forecastHourTelemetryTags",t.index)}"><div class="weather-forecast-day" part="weather-forecast-day" aria-label=${e=>e.hourOfDay}>${e=>e.hourOfDay}</div><div class="weather-forecast-icon">${e=>e.skyCodeIcon}</div><div><div class="weather-forecast-temperature" part="weather-forecast-temperature" aria-label="${e=>e.temperature+"째"}">&lrm;${e=>e.temperature}째&lrm;</div><div class="weather-forecast-precipitation" part="weather-forecast-precipitation" aria-label="${e=>e.precipitation}">${c.n} &lrm;${e=>e.precipitation}&lrm;</div></div></fluent-anchor></li>`,d=n.dy`<li><fluent-anchor class="weather-forecast-item weather-forecast-item-5col weather-forecast-item-npro" part="weather-forecast-item-5col" href="${e=>e.forecastLink}" aria-label=${e=>`${e.itemAriaLabel} ${e.dayOfWeekName} ${(e.highTempLabel?e.highTempLabel+" ":"")+(0,s.yt)(e.highTemp)} ${(e.lowTempLabel?e.lowTempLabel+" ":"")+(0,s.yt)(e.lowTemp)} `} target=${(e,t)=>t.parent.target} data-t="${(e,t)=>t.parent.telemetryWithIndex("forecastDayTelemetryTags",t.index)||t.parent.t("forecastDayTelemetryTag")}"><div class="weather-forecast-day" part="weather-forecast-day" aria-label=${e=>e.dayOfWeekName||e.dayOfWeek}>${e=>e.dayOfWeek}</div><div class="weather-forecast-icon">${e=>e.skycodeIcon}</div><div><div class="weather-forecast-high" part="weather-forecast-high" aria-label="${e=>(e.highTempLabel?e.highTempLabel+" ":"")+(0,s.yt)(e.highTemp)}">&lrm;${e=>(0,s.yt)(e.highTemp)}&lrm;</div><div class="weather-forecast-low" part="weather-forecast-low" aria-label="${e=>(e.lowTempLabel?e.lowTempLabel+" ":"")+(0,s.yt)(e.lowTemp)}">&lrm;${e=>(0,s.yt)(e.lowTemp)}&lrm;</div></div></fluent-anchor></li>`;function u(e){return n.dy`<a class="weather-forecast-container" href="${e=>e.weatherData.link}" data-t="${e=>e.t("forecastDayTelemetryTag")}"><ul class="weather-forecast" part="weather-forecast">${(0,r.g)((()=>!e),n.dy` ${(0,o.rx)((e=>e.weatherData.hourlyForecast),l,{positioning:!0})}`)} ${(0,r.g)((()=>e),n.dy` ${(0,o.rx)((e=>e.weatherData.forecastData),d,{positioning:!0})}`)}</ul></a>`}const p=n.dy`<a class="wea_tc_container" data-t="${e=>e.t("trendChartTelemetryTag")}" style="text-decoration: none;" href="${e=>e.weatherData?.summaryData?.summaryLink||e.weatherData?.link}" target=${e=>e.target} tabIndex="0"><div class="wea_trend_body"><weather-card-chart id="weather-card-chart" :weatherData="${e=>e.weatherData}" :content="${e=>e.weatherData?.displayContent}" :chartDataType=${e=>"nowcastAcc"} :strings="${e=>e.weatherData?.teaserCustomData?.localizedStrings}" :telemetry="${e=>e.telemetry.trendChartNonNav}" :chartType="${e=>"trend,bar"}" :height="${e=>120}" :isRtl="${e=>"rtl"==document.dir}"></weather-card-chart></div></a>`,h=n.dy`<li key="tab_${e=>e.type}" class="tab ${(e,t)=>t.parent.getMiniL1TabStyle(e.idx==t.parent.tabIdx,t.parent.weatherData)}" part="weather-miniL1-tab" tabIndex="${0}" aria-label="${e=>e.title}" data-index="${e=>e.idx}" title="${e=>e.title}" data-t="${(e,t)=>t.parent.telemetryWithIndex("miniL1TabTelemetryTags",t.index)||e.type}" @click="${(e,t)=>t.parent?.handleMiniL1TabClick(e.idx)}" @keydown="${(e,t)=>t.parent?.onKeyDown(t.event,e.idx)}"><span>${e=>e.title}</span><span class="${(e,t)=>e.idx==t.parent.tabIdx?"pill":""}"></span></li>`,m=n.dy`<ul class="wea_tab_list">${(0,o.rx)((e=>e.weatherData.teaserCustomData.tabs),h,{positioning:!0})}</ul>`;var y=a(7275);const g=n.dy`
    <weather-aq-dashboard
        :weatherData=${e=>e.weatherData}
        :navTelemetry=${e=>e.telemetry.aqiPanelNav}
    ></weather-aq-dashboard>
`,f=n.dy`
    <weather-eplant-special-day
        :weatherData=${e=>e.weatherData} :ePlantLabel=${e=>e.ePlantLabel} :ePlantIcon=${e=>e.ePlantIcon}
       :t=${e=>e.t.bind(e)}
    ></weather-eplant-special-day>
`,w=n.dy`
    <weather-eplant-button
        :weatherData=${e=>e.weatherData} :ePlantLabel=${e=>e.ePlantLabel} :ePlantIcon=${e=>e.ePlantIcon} :enableEplantIcon=${e=>e.enableEplantIcon()}
       :t=${e=>e.t.bind(e)}
    ></weather-eplant-button>
`,v=n.dy`
    <weather-trend-curve
        :weatherData=${e=>e.weatherData} :target=${e=>e.target} :t=${e=>e.t.bind(e)}
    ></weather-trend-curve>
`,b=n.dy`
    <weather-multi-info
        :weatherData=${e=>e.weatherData} 
        :navTelemetry=${e=>e.telemetry.multiInfoCardNav}
        :target=${e=>e.target} :t=${e=>e.t.bind(e)}>
    </weather-multi-info>
`,D=n.dy`
    <weather-nowcast-chart
        :weatherData=${e=>e.weatherData} :target=${e=>e.target} :t=${e=>e.t.bind(e)}
    ></weather-nowcast-chart>
`,x=n.dy`
<weather-mini-map
    :weatherData=${e=>e.weatherData} 
    :target=${e=>e.target}
    :minimap=${e=>e.minimap}
    :minimapWce=${e=>e.minimapWce}
    :cardType=${e=>e.cardType}
></weather-mini-map>`,C=n.dy`
    <div class="video-entry-wce-container"> 
        ${e=>(0,y.Ot)(e.videoEntryWce,{properties:{target:e.target,telemetryExt:e.telemetry?.weatherCard?.contract?.ext,link:e.weatherData.link,videoData:e.weatherData.teaserCustomData}})}
    </div>`,T=n.dy`
    <weather-summary-bold
        :weatherData=${e=>e.weatherData} 
        :layout=${e=>e.layout}
        :target=${e=>e.target}
        :t=${e=>e.t.bind(e)}
    ></weather-summary-bold>`;var S=a(57978);const L=n.dy`
    ${(0,r.g)((e=>e.minimap),x)}
`,k=n.dy`
    ${(0,r.g)((e=>"eplantSpecialDay"===e.primaryCarousel),f)}
    ${(0,r.g)((e=>"video"===e.primaryCarousel),C)}
    ${(0,r.g)((e=>"aqDashboard"===e.primaryCarousel),g)}
    ${(0,r.g)((e=>"eplantSpecialDay"!==e.primaryCarousel&&"video"!==e.primaryCarousel&&"aqDashboard"!==e.primaryCarousel),L)}
`,$=n.dy`
    <div class="weather-forecast-region-container">
        ${(0,r.g)((e=>"minimap"==e.getDynamicTemplateType()),x)}
        ${(0,r.g)((e=>"forecastlist"==e.getDynamicTemplateType()),(e=>u(e.showDailyForecast())))}
        ${(0,r.g)((e=>"specialUx"==e.getDynamicTemplateType()),k)}
    </div>
`,I=n.dy`
    ${(0,r.g)((e=>(0,S.TW)(e.layout)),n.dy`
        ${(0,r.g)((e=>!e.primaryCarousel),(e=>u(e.showDailyForecast())))}
        ${(0,r.g)((e=>e.primaryCarousel),$)}
    `)}
    ${(0,r.g)((e=>(0,S.aL)(e.layout)),n.dy`
        <div class="weather-large-more-container">
            ${k}
        </div>
    `)}
`,M=n.dy`
    <div class="weather-TkRt-content ${e=>(0,S.aL)(e.layout)?"weather-TkRt-content-large":"weather-TkRt-content-medium"}">
        ${(0,r.g)((e=>e.weatherData.rotationDisplayContentType&&"minimap"==e.weatherData.rotationDisplayContentType[0]),k)}
        ${(0,r.g)((e=>e.weatherData.rotationDisplayContentType&&"minimap"!=e.weatherData.rotationDisplayContentType[0]),(e=>u(e.showDailyForecast())))}
    </div>
`,P=n.dy`
    ${(0,r.g)((e=>e.weatherData.teaserCustomData&&e.weatherData.teaserCustomData.tabs&&e.weatherData.teaserCustomData.tabs[e.tabIdx]),n.dy`
        ${m}
        <div class="wea_main_content">
            <div class="wea_content wea_content_a">
                ${(0,r.g)((e=>"hourly"==e.weatherData.teaserCustomData.tabs[e.tabIdx].type),u(!1))}
                ${(0,r.g)((e=>"daily"==e.weatherData.teaserCustomData.tabs[e.tabIdx].type),u(!0))}
                ${(0,r.g)((e=>"map"==e.weatherData.teaserCustomData.tabs[e.tabIdx].type),x)}
                ${(0,r.g)((e=>"precipitation"==e.weatherData.teaserCustomData.tabs[e.tabIdx].type),D)}
                ${(0,r.g)((e=>"trend"==e.weatherData.teaserCustomData.tabs[e.tabIdx].type),v)}
                ${(0,r.g)((e=>"nowcastacc"==e.weatherData.teaserCustomData.tabs[e.tabIdx].type),p)}
                ${(0,r.g)((e=>"multiInfo"==e.weatherData.teaserCustomData.tabs[e.tabIdx].type),b)}
            </div>
        </div>
    `)}
`,A=n.dy`
    <div class="weather-middle-template">
        ${(0,r.g)((e=>!e.showRotationUX()),I)}
        ${(0,r.g)((e=>e.showRotationUX()),M)}
    </div>
`,F=n.dy`
    ${e=>u(e.showDailyForecast())}
`,N=n.dy`<div class="weather-TkRt-content">
    ${(0,r.g)((e=>e.weatherData&&e.weatherData.rotationDisplayContentType&&"minimap"==e.weatherData.rotationDisplayContentType[1]),k)}
    ${(0,r.g)((e=>!(e.weatherData&&e.weatherData.rotationDisplayContentType&&"minimap"==e.weatherData.rotationDisplayContentType[1])),(e=>u(e.showDailyForecast())))}
<div>`,W=n.dy`
    <div class="weather-bottom-template">
        ${(0,r.g)((e=>!e.showRotationUX()),F)}
        ${(0,r.g)((e=>e.showRotationUX()),N)}
    </div>
`;let R=n.dy``,z=n.dy``;const O=n.dy` ${R} ${z} `;var V=a(19786);var E=a(45648),H=a(17449),q=a(17105);const U=(0,E.ld)("AqiNoColor.svg",H.Mx),_=n.dy` ${(0,r.g)((e=>!e.weatherData.summaryData?.disableArrow),n.dy`<a class="weather-alert-arrow" part="weather-alert-arrow" href="${e=>e.weatherData.summaryData?.summaryLink||e.weatherData.backgroundData?.link||e.weatherData.link}" target=${e=>e.target} aria-label="${e=>e.weatherData.summaryData?.summaryHint||e.weatherData.summaryData?.summaryLine1||""}" data-t="${e=>e.t("summaryTelemetryTag")}">${c.w}</a>`)}
`,B=n.dy`<div class="summary-oneline ${e=>e.weatherData.enableLargeSummaryTR?"summary-oneline-tr":""}" part="summary-oneline"><div><a class="summary-oneline-info" part="summary-oneline-info" title="${e=>e.weatherData.summaryData?.summaryHint||e.weatherData.summaryData?.summaryLine1||""}" href="${e=>e.weatherData.summaryData?.summaryLink||e.weatherData.backgroundData?.link||e.weatherData.link}" target=${e=>e.target} data-t="${e=>e.t("summaryTelemetryTag")}">${(0,r.g)((e=>e.weatherData.summaryData?.summaryIcon),n.dy`<span>${e=>e.weatherData.summaryData?.summaryIcon}</span>`)}<span>${e=>e.weatherData.summaryData?.summaryLine1}</span></a></div>${_}</div>`,j=n.dy`<a class="summary-twoline ${e=>"aqi"===e.primaryCarousel?"aqi-summary-twoline":""}" part=""summary-twoline" title="${e=>e.weatherData.summaryData?.summaryHint||""}" href="${e=>e.weatherData.summaryData?.summaryLink||e.weatherData.backgroundData?.link||e.weatherData.link}" target=${e=>e.target} data-t="${e=>e.t("summaryTelemetryTag")}"><div class="summary-twoline-info" part="summary-twoline-info">${(0,r.g)((e=>e.weatherData.summaryData?.summaryIcon),n.dy`<div class="summary-twoline-icon" part="summary-twoline-icon">${e=>e.weatherData.summaryData.summaryIcon}</div>`)}<span class="summary-twoline-item1">${e=>e.weatherData.summaryData?.summaryLine1}</span></div><div class="summary-twoline-sig" part="summary-twoline-sig"><span class="summary-twoline-item2">${e=>e.weatherData.summaryData?.summaryLine2}</span></div></a>${_}
`,G=n.dy` ${(0,r.g)((e=>e.weatherData.summaryData?.summaryLine1&&!e.weatherData.summaryData?.summaryLine2),B)} ${(0,r.g)((e=>e.weatherData.summaryData?.summaryLine1&&e.weatherData.summaryData?.summaryLine2),j)}
`,Q=n.dy`<div style="z-index: 2; display: flex;">${G}</div>`,K=n.dy` ${(0,r.g)((e=>e.weatherData.precipitation),n.dy`<li class="weather-current-container-item" part="weather-current-container-item" title="${e=>(e.weatherData.precipitationLabel?e.weatherData.precipitationLabel+" ":"")+e.weatherData.precipitation}" aria-label="${e=>(e.weatherData.precipitationLabel?e.weatherData.precipitationLabel+" ":"")+e.weatherData.precipitation}">${c.n}<span class="weather-current-container-item-text" part="weather-current-container-item-text">${e=>e.weatherData.precipitation}</span></li>`)} ${(0,r.g)((e=>e.weatherData.aqi),n.dy`<li class="weather-current-container-item" part="weather-current-container-item"><a class="weather-current-container-item" part="weather-current-container-item" href="${e=>e.weatherData.link}" target=${e=>e.target} title="${e=>(e.weatherData.aqiLabel?e.weatherData.aqiLabel+" ":"")+e.weatherData.aqi}" aria-label="${e=>(e.weatherData.aqiLabel?e.weatherData.aqiLabel+" ":"")+e.weatherData.aqi}" data-t="${e=>e.t("weatherAqiTelemetryTag")}"><img src="${U}" class="nocolor-img-nm-aqi"></img><span class="weather-current-container-item-text" part="weather-current-container-item-text">${e=>e.weatherData.aqi}</span></a></li>`)}
`,Z=n.dy`<div class="weather-current-info" part="weather-current-info">${(0,r.g)((e=>e.weatherData.weatherSummary),n.dy`<span class="weather-current-summary" part="weather-current-summary" title="${e=>e.weatherData.weatherSummary}">${e=>e.weatherData.weatherSummary}</span>`)} ${(0,r.g)((e=>!e.weatherData.weatherSummary),n.dy`<span class="weather-current-skycode" part="weather-current-skycode" title="${e=>e.weatherData.skycode}">${e=>e.weatherData.skycode}</span>`)} ${(0,r.g)((e=>(e.weatherData.precipitation||e.weatherData.aqi)&&(!e.weatherData.weatherSummary||e.weatherData.weatherSummary.length<=15)&&(!e.minimap||e.minimap.mapType!==q.p0.Precipitation)),n.dy`<div><ul class="weather-current-container" part="weather-current-container">${K}</ul></div>`)}</div>`,J=n.dy` ${(0,r.g)((e=>!e.showSummary),Z)} ${(0,r.g)((e=>e.showSummary),Q)}
`,Y=n.dy`
    <div class="weather-current-leftpane">
        <div class="weather-current-temp-container">
            ${X={tabIndex:0},n.dy`<a class="weather-current-image" part="weather-current-image" style="text-decoration: none;" tabIndex="-1" href="${e=>e.weatherData.link}" target=${e=>e.target} title="${e=>e.weatherData.skycode}" data-t="${e=>e.t("weaConditionTelemetryTag")}">${e=>e.weatherData.skycodeIcon}</a><a class="${e=>e.longSummary?"weather-current-temperature-lsummary":"weather-current-temperature"}" part="${e=>e.longSummary?"weather-current-temperature-lsummary":"weather-current-temperature"}" aria-label="${e=>e.weatherData.temperature+e.weatherData.unitSetting}" title="${e=>e.weatherData.temperature+e.weatherData.unitSetting}" tabIndex="${X.tabIndex}" href="${e=>e.weatherData.link}" target=${e=>e.target} data-t="${e=>e.t("weaConditionTelemetryTag")}"><span class="weather-current-temperature-num ${e=>e.weatherData?.enableLargeSummaryTR?"weather-current-temperature-num-tr":""}" part="weather-current-temperature-num">&lrm;${e=>e.weatherData.temperature}&lrm;</span><div class="${e=>e.longSummary?"weather-degree-switch-lsummary":"weather-degree-switch"}" part="${e=>e.longSummary?"weather-degree-switch-lsummary":"weather-degree-switch"}"><span class="weather-degree-current weather-degree-no-switch ${e=>e.weatherData?.enableLargeSummaryTR?"weather-degree-no-switch-tr":""}" part="weather-degree-current">&lrm;${e=>e.weatherData.unitSetting}&lrm;</span></div></a>`}
        </div>
    </div>
    ${J}
`;var X;const ee=n.dy`
    <div class="weather-top-template" part="weather-top-template" style=${e=>(0,V.zi)(e.weatherData.temperature)}>
        ${(0,r.g)((e=>e.weatherData&&e.weatherData.summaryData&&e.weatherData.summaryData.boldUx),T)}
        ${(0,r.g)((e=>!e.weatherData.summaryData?.boldUx),Y)}
    </div>
`,te=n.dy`
${(0,r.g)((e=>(0,S.KW)(e.layout)&&e.weatherData?.backgroundData?.backgroundMask),n.dy`<div class="weather-background-mask-${e=>e.weatherData?.backgroundData?.backgroundMask}" part="weather-background-mask""></div>`)}
`,ae=n.dy` ${ee} ${(0,r.g)((e=>!(0,S.KW)(e.layout)),A)} ${(0,r.g)((e=>(0,S.aL)(e.layout)),W)}
`,ne=n.dy`<div class="weather-minil1-template">${ee} ${P}</div>`,re=n.dy` ${(0,r.g)((e=>"teaserPanel"==e.weatherData.uxFormat),O)} ${(0,r.g)((e=>"miniL1"==e.weatherData.uxFormat&&e.weatherData.teaserCustomData&&e.weatherData.teaserCustomData.tabs),ne)} ${(0,r.g)((e=>"matchAndCurve"==e.weatherData.uxFormat),v)} ${(0,r.g)((e=>"curve"==e.weatherData.uxFormat),v)}
`,ie=n.dy` ${(0,r.g)((e=>e.animationSource),i)} ${(0,r.g)((e=>e.weatherData&&e.weatherData.uxFormat&&"default"!=e.weatherData.uxFormat),re)} ${(0,r.g)((e=>e.weatherData&&!(e.weatherData.uxFormat&&"default"!=e.weatherData.uxFormat)),ae)}
`,oe=n.dy` ${(0,r.g)((e=>e.weatherData),n.dy`<div class="weather-container" part="weather-container">${ie} ${w} ${te}</div>`)}
`},74483:function(e,t,a){a.d(t,{$7:function(){return d},Q3:function(){return c},QA:function(){return l},SI:function(){return m},Z5:function(){return s},bA:function(){return g},gh:function(){return y},lv:function(){return u},sP:function(){return h}});var n=a(39157),r=a(19628),i=a(17449);const o=["de-at","cs-cz","nl-be","fr-ch","de-de","da-dk","es-es","fi-fi","fr-fr","el-gr","hu-hu","en-ie","it-it","nl-nl","nb-no","pl-pl","pt-pt","sv-se"],s={Good:"Good",Moderate:"Moderate",Poor:"Poor",PoorIN:"PoorIN",Unhealthy:"Unhealthy",VeryUnhealthy:"Very Unhealthy",Hazardous:"Hazardous",Satisfactory:"Satisfactory",ModeratelyPolluted:"Moderately polluted",VeryPoor:"Very Poor",Severe:"Severe",Fair:"Fair",ModerateEU:"ModerateEU",PoorEU:"PoorEU",VeryPoorEU:"Very Poor EU",ExtremelyPoor:"Extremely Poor"};function c(e){return"en-in"===e?"in":"zh-cn"===e?"cn":o.includes(e)?"eu":"us"}function l(e){return"zh-cn"===e?"AirQualityHeatMapCn":o.includes(e)?"AirQualityHeatMapEu":"AirQualityHeatMap"}function d(e){return"en-us"!==e&&e?"en-in"===e?"IN":"zh-cn"===e?"CN":o.includes(e||"")?"EU":"OT":"US"}function u(e,t){if(null==e||e<0)return null;const a=d(t);if("IN"===a){if(e<=50)return s.Good;if(e>50&&e<=100)return s.Satisfactory;if(e>100&&e<=200)return s.ModeratelyPolluted;if(e>200&&e<=300)return s.PoorIN;if(e>300&&e<=400)return s.VeryPoor;if(e>400)return s.Severe}else if("EU"===a){if(e<=50)return s.Good;if(e>50&&e<=100)return s.Fair;if(e>100&&e<=150)return s.ModerateEU;if(e>150&&e<=200)return s.PoorEU;if(e>200&&e<=300)return s.VeryPoorEU;if(e>300)return s.ExtremelyPoor}else{if(e<=50)return s.Good;if(e>50&&e<=100)return s.Moderate;if(e>100&&e<=150)return s.Poor;if(e>150&&e<=200)return s.Unhealthy;if(e>200&&e<=300)return s.VeryUnhealthy;if(e>300)return s.Hazardous}}const p={bg:"weathermapdata/1/static/background/v2.0/Aq1UBackground{level}.png",icon:i.qF+i.k4};function h(e,t){const a=r.Ld.Format(p[t],{level:e});return`${(0,n.Yq)().AssetsUrl}/${a}`}function m(e,t,a){if("IN"==t)switch(e){case 1:case 10:return a?.good;case 2:case 20:return a?.satisfactory;case 3:case 30:return a?.moderate;case 4:case 40:return a?.poor;case 5:case 50:return a?.veryPoor;case 6:case 60:return a?.severe}else if("EU"==t)switch(e){case 1:case 10:return a?.good;case 2:case 20:return a?.fair;case 3:case 30:return a?.moderate;case 4:case 40:return a?.poor;case 5:case 50:return a?.veryPoor;case 6:case 60:return a?.extremelyPoor}else switch(e){case 1:case 10:return a?.good;case 2:case 20:return a?.moderate;case 3:case 30:return a?.poor;case 4:case 40:return a?.unhealthy;case 5:case 50:return a?.veryUnhealthy;case 6:case 60:return a?.hazardous}return""}function y(e,t){return e<=50?t?.aqiNearby:t?.healthImpact}function g(e,t){return e<=50?t?.primaryPollutant:t?.goodAqiNearby}},91375:function(e,t,a){a.d(t,{Y:function(){return i}});const n=36e5,r=18e5;function i(e,t,a){const i=e.getTime(),o=t.getTime(),s=a.getTime();return o+r>i&&o-n<i||s+r>i&&s-n<i}},70127:function(e,t,a){a.d(t,{AI:function(){return r},hr:function(){return n},xf:function(){return o},xh:function(){return i}});function n(e){return"en-us"===e?"PollenImage":"EuPollenImage"}function r(e){return"en-us"===e?"pollensenserendered":"eupollen/rendered"}function i(e){return"wxuspltmr"===e||"wxeupltmr"===e||"wxjwatmr"===e}function o(e){if(!e)return"00";if(e.startsWith("https")){const t=/pl(.*)\.svg$/,a=e.match(t);return a&&a[1]?a[1]:"00"}return e}},90057:function(e,t,a){a.d(t,{qz:function(){return i},h2:function(){return r},I9:function(){return o}});const n=["1","2","3","4","6","7","8","9","10","13","17","19","20","24","28","29","30","31","32","34","35","37","40","41","42","44","47","51","80","15","25","26","59","22","23","79","11","69","71","14","27","67","81","75","77","83","85","38","70","72","54","68","52","53","60","46","49","50","82","76","78","84","86","33","61","62","87","88","93","94","95","96","12","18","21","36","39","45","48","63","64","89","90"],r={17:"8",31:"31",49:"14",41:"14",35:"8",4:"4",19:"19",22:"14",23:"23",34:"7",47:"20",60:"7",81:"26",11:"10",37:"10",38:"10",69:"10",70:"10",71:"10",72:"10",92:"91",32:"5",2:"2",101:"1",42:"15",33:"6",61:"6",62:"6",87:"6",88:"6",93:"6",94:"6",95:"6",96:"6",67:"27",68:"27",18:"9",21:"9",36:"9",45:"9",48:"9",63:"9",64:"9",29:"29",102:"28",44:"44",46:"19",80:"50",76:"24",75:"24",83:"77",84:"78",85:"24",86:"24",39:"39"};class i{static getWeatherNormalizedSkyCode(e){return n.includes(e)?e:Object.prototype.hasOwnProperty.call(r,e)?r[e]:e}}const o={d000:"SunnyDayV3",d100:"MostlySunnyDay",d200:"D200PartlySunnyV2",d210:"D210LightRainShowersV2",d211:"D211LightRainSowShowersV2",d212:"D212LightSnowShowersV2",d220:"LightRainShowerDay",d221:"D221RainSnowShowersV2",d222:"SnowShowersDayV2",d240:"D240TstormsV2",d300:"MostlyCloudyDayV2",d310:"D310LightRainShowersV2",d311:"D311LightRainSnowShowersV2",d312:"LightSnowShowersDay",d320:"RainShowersDayV2",d321:"D321RainSnowShowersV2",d322:"SnowShowersDayV2",d340:"D340TstormsV2",d400:"CloudyV3",d410:"LightRainV3",d411:"RainSnowV2",d412:"LightSnowV2",d420:"HeavyDrizzle",d421:"RainSnowV2",d422:"Snow",d430:"ModerateRainV2",d431:"RainSnowV2",d432:"HeavySnowV2",d440:"Thunderstorm",d500:"MostlyCloudyDayV2",d600:"FogV2",d603:"FreezingRainV2",d605:"IcePelletsV2",d705:"BlowingHailV2",d905:"BlowingHailV2",d907:"Haze",d900:"Haze",n000:"ClearNightV3",n100:"MostlyClearNight",n200:"PartlyCloudyNightV2",n210:"N210LightRainShowersV2",n211:"N211LightRainSnowShowersV2",n212:"N212LightSnowShowersV2",n220:"LightRainShowerNight",n221:"N221RainSnowShowersV2",n222:"N222SnowShowersV2",n240:"N240TstormsV2",n300:"MostlyCloudyNightV2",n310:"N310LightRainShowersV2",n311:"N311LightRainSnowShowersV2",n312:"LightSnowShowersNight",n320:"RainShowersNightV2",n321:"N321RainSnowShowersV2",n322:"N322SnowShowersV2",n340:"N340TstormsV2",n400:"CloudyV3",n410:"LightRainV3",n411:"RainSnowV2",n412:"LightSnowV2",n420:"HeavyDrizzle",n421:"RainSnowShowersNightV2",n422:"N422SnowV2",n430:"ModerateRainV2",n431:"RainSnowV2",n432:"HeavySnowV2",n440:"Thunderstorm",n500:"PartlyCloudyNightV2",n600:"FogV2",n603:"FreezingRainV2",n605:"BlowingHailV2",n705:"BlowingHailV2",n905:"BlowingHailV2",n907:"Hazy-Night",n900:"Hazy-Night",xxxx1:"WindyV2"}},17449:function(e,t,a){a.d(t,{MN:function(){return c},Mt:function(){return d},Mx:function(){return p},Rb:function(){return o},Ws:function(){return m},ge:function(){return s},hl:function(){return i},k4:function(){return l},qF:function(){return r},zf:function(){return u},zh:function(){return h}});var n=a(39157);const r="weathermapdata/1/static/weather/Icons/taskbar_v10/",i="hurricane_warnning.svg",o="Alert/",s="AQI/WildFire.svg",c="AQI/wildfireMapInfopane.svg",l="AQI/aq{level}.svg",d="Teaser/",u="Condition_Card/",p=r+"NoColor_Card/",h=`https://assets.msn.${n.jG.IsChinaCompliance?"cn":"com"}/weathermapdata/1/static`,m=`${h}/weather/Icons/taskbar/Fallback/Alert_Y.svg`},39437:function(e,t,a){a.d(t,{oy:function(){return r},r9:function(){return n}});const n="weather",r="weather"},45129:function(e,t,a){a.d(t,{C8:function(){return S},CK:function(){return h},Eh:function(){return g},Et:function(){return d},FW:function(){return C},I2:function(){return m},Jt:function(){return r},Ks:function(){return y},L0:function(){return u},Pm:function(){return p},RG:function(){return $},W9:function(){return o},Xt:function(){return b},Y_:function(){return i},_W:function(){return x},ah:function(){return T},ap:function(){return k},bp:function(){return I},cB:function(){return l},fB:function(){return M},k_:function(){return w},m3:function(){return c},oo:function(){return f},qb:function(){return s},r1:function(){return P},sY:function(){return n},wI:function(){return L},wj:function(){return v},zl:function(){return D}});const n="WeatherCardSize",r="WeatherDynamicContent",i="ContentId",o="WxCf",s="wxrk",c="WeatherCardMiniMapType",l="LocationCountWC",d="wxuid",u="wxft",p="wxvids",h="wxcids",m="wxswids",y="wxcid",g="wxccdt",f="wxlatlon",w="wxlstup",v="WeatherSpotlight",b="aqiLevel",D="plTdLevel",x="plTmrLevel",C="wxut",T="ShowMinimap",S="swDetail",L="resIdx",k="eplantJoin",$="eplantIcon",I="eplantAccount",M="DropdownLocationCnt",P="WeatherMultiInfo"},45648:function(e,t,a){a.d(t,{I7:function(){return l},Jn:function(){return d},LO:function(){return h},Om:function(){return w},QO:function(){return S},Re:function(){return v},TP:function(){return p},d5:function(){return C},fd:function(){return x},ld:function(){return f},se:function(){return b},uh:function(){return u},y3:function(){return y},zk:function(){return m}});var n=a(39157),r=a(17449),i=a(19628),o=a(88826),s=a(7476),c=a(23549);const l=`https://assets.msn.c${n.jG.IsChinaCompliance?"n":"om"}/`;function d(e){return`${l}weathermapdata/1/static/${e}`}function u(e){return`${l}staticsb/statics/latest/icons-wc/icons/${e}`}function p(e,t,a){return!a||e>24||e<0||t<0?"":t<e?`${a}&day=1&hour=${t+1}`:t>=e&&t-e<=24?`${a}&day=2&hour=${t-e}`:""}const h=["TeaserRainTomorrow","TeaserDayTempChange","TeaserDayTempChangeDay","TeaserDayTempTrend","TeaserRain5Day","TeaserWindDay","TeaserTempRecordDay","TeaserSummaryTomorrow","TeaserSummaryTomorrowDefault"],m=["Storm","Nowcast","NowcastNearBy","AlertNowcast","SevereWeather","AQICard","Hurricane","HurricaneAround","WildFirePointFullCard","JwaPollen","USPollen","EUPollen","ForecastVideo"],y={darkBg:{textColor:"#FFFFFF",preBackground:"#3b3b3b",iconInvert:"100%"},lightBg:{textColor:"#2B2B2B",preBackground:"#FFFFFF",iconInvert:"0%"}};const g={"hurricane.svg":"hurricane_warnning.svg"};function f(e,t,a){if(!e)return"";if(e.startsWith("https://assets.msn.c"))return n.jG.IsChinaCompliance?e.replace(".msn.com/",".msn.cn/"):e;const r=a||!g[e]?e:g[e],i=`https://assets.msn.${n.jG.IsChinaCompliance?"cn":"com"}/${t}${r}`;return c.M0&&"function"==typeof c.M0.sendClientLogEvent&&c.M0.sendClientLogEvent({message:`GetWeatherIconUrl result in ${i} with original icon: ${e}`,type:"information"}),i}function w(e){return e?`${r.zh}/weather/Images/${e}`:""}function v(e,t){let a=null;switch(t){case"JwaPollen":a="AQI/jwapl{level}.svg";break;case"USPollen":case"EUPollen":a="AQI/uspl{level}.svg"}return a?f(i.Ld.Format(a,{level:e}),r.qF):""}function b(e,t){return e?t.formatDayWithWeek(e,{forceWeekdayAhead:!0,excludeComma:!0}):""}var D,x;!function(e){e.Insights="Insights",e.Teaser="Teaser",e.Nowcast="Nowcast",e.SevereWeather="SevereWeather",e.AQICard="AQICard",e.WildFirePointFullCard="WildFirePointFullCard",e.Hurricane="Hurricane",e.USPollen="USPollen",e.EUPollen="EUPollen",e.JwaPollen="JwaPollen",e.AlertNowcast="AlertNowcast",e.HurricaneAround="HurricaneAround"}(D||(D={})),function(e){e.hourly="hourly",e.daily="daily",e.map="map",e.alert="alert",e.precipitation="precipitation",e.hurricane="hurricane",e.news="news",e.poll="poll",e.trend="trend",e.video="video",e.nowcastacc="nowcastacc",e.multiInfo="multiInfo",e.aqi="aqi"}(x||(x={}));const C="WeatherCardMiniL1TabIndex";var T;function S(e,t,a){if(!t||t.split("_").length<2||!t.startsWith("Weather")||!e||!a)return;const n=t.replace("Weather:","Weather_").split("_")[2],r=e.contenttype,i=a.map((e=>e.contenttype||""));n!==r&&(0,o.H)(s.jUm,"Taskbar content type and display content mismatch",`Content type in taskbar [${n}] is not consistent with display content [${r}]. PreviewType: ${t}; ContentData list: ${i}`)}!function(e){e.curWeaInfo="1",e.curWeaSummary="2",e.curWea="3",e.hourly="4",e.daily="5",e.teaser="6"}(T||(T={}))},12655:function(e,t,a){var n;a.d(t,{Br:function(){return c},SU:function(){return i},Uh:function(){return u},YV:function(){return n},jF:function(){return p},n3:function(){return l},n6:function(){return d},s8:function(){return s}}),function(e){e.layerActivated="ActivatedOn",e.overviewRequestStart="OverviewRequest.start",e.overviewRequestCluster="OverviewRequest.cluster",e.overviewRequestDuration="OverviewRequest.duration",e.overviewRequestInternal="OverviewRequest.internal",e.overviewRequestNetwork="OverviewRequest.network",e.overviewRequestPathHash="OverviewRequest.pathHash",e.pdpRequestStart="pdpRequest.start",e.pdpRequestDuration="pdpRequest.duration"}(n||(n={}));var r,i,o,s;!function(e){e[e.normal=0]="normal",e[e.alert=1]="alert",e[e.nowcast=2]="nowcast"}(r||(r={})),function(e){e[e.Start=1]="Start",e[e.WCComplete=2]="WCComplete"}(i||(i={})),function(e){e[e.Unknown=0]="Unknown",e[e.Joined=1]="Joined",e[e.Muted=2]="Muted"}(o||(o={})),function(e){e[e.RainThreshold=11.9]="RainThreshold"}(s||(s={}));const c="weaRecentLocation",l="weaRecentForMobileLocation",d="weaMUIDs";var u,p,h;!function(e){e[e.setHomeFail=1]="setHomeFail",e[e.exceedPinLocationLimit=2]="exceedPinLocationLimit"}(u||(u={})),function(e){e.ImageContent="ImageContent"}(p||(p={})),function(e){e.L1Minimap="L1Minimap",e.CardMinimap="CardMinimap"}(h||(h={}))},52924:function(e,t,a){a.d(t,{Vt:function(){return s},dX:function(){return o},lI:function(){return l}});var n=a(13334),r=a(27850);const i={SN:"winterstorm",IC:"winterstorm",IM:"winterstorm",FD:"wildfire",AQ:"airqualitystation",SM:"airqualitystation",DU:"airqualitystation",VO:"airqualitystation",AS:"airqualitystation"};function o(e,t,a,i,o){if(!e.alertsInfo?.created||!e.source?.location)return null;try{const s=e.source.location.TimezoneName,c=new r.Q(n.Al.Locale,s),l=e.alertsInfo.start,d=e.alertsInfo.created,u=e.alertsInfo.end;let p,h=null,m="";if(l&&u&&t>=new Date(l)&&t<=new Date(u)?(m=i,h=new Date(u)):l&&t>=new Date(d)?(m=a,h=new Date(l)):t>=new Date(d)&&(m=o,h=new Date(d)),!h)return null;p="zh-cn"==n.Al.Locale?function(e,t){if(!e)return null;const a=t.formatHourMinute(e),n=t.formatYear(e),r=t.formatMonth(e),i=t.formatDay(e);return`${n}-${r}-${i} ${a}`}(h,c):function(e,t){if(!e)return null;const a={forceWeekdayAhead:!0},n=t.formatHourMinuteTimezone(e,a);return`${t.formatDayWithWeek(e,a)}, ${n}`}(h,c);let y=p;return p&&m&&(y=`${m}: ${p}`),y}catch{return null}}function s(e,t){if(e.alertsInfoList?.length>0&&t?.content?.length>=1&&("SevereWeather"==t?.contenttype||"SevereWeather2nd"==t?.contenttype)){const a=t.content[0].metadata&&JSON.parse(t.content[0].metadata);if(a?.AlertIdx>=0&&e.alertsInfoList.length>a.AlertIdx)return e.alertsInfoList[a.AlertIdx]}return e.alertsInfo}const c={winterstorm:{type:"exclude",markets:["zh-cn"]},wildfire:{type:"include",markets:["us"]},airqualitystation:{type:"include",markets:["us"]}};function l(e){if(!e)return null;const t=i[e];return function(e){const t=n.Al.Locale;let a=!1;if(!(e in c))return a;"include"==c[e].type?c[e].markets.some((e=>{if(t?.includes(e))return a=!0,!0})):"exclude"==c[e].type&&(a=!0,c[e].markets.some((e=>{if(t?.includes(e))return a=!1,!0})));return a}(t)?t:"severeweather"}},50564:function(e,t,a){a.d(t,{SL:function(){return o}});var n=a(13334),r=a(39157),i=a(31558);function o(e){if((0,i.N)()){return(n.Al?.CurrentFlights||"").includes(e)}if((r.Vh?.getInstance()?.CurrentRequestTargetScope?.pageExperiments||[]).some((t=>t.startsWith(e))))return!0;return!1}},40850:function(e,t,a){a.d(t,{Dx:function(){return r},Mv:function(){return i},Td:function(){return o}});var n=a(21921);function r(e,t){if(!t)return e;e=e||[];const a=[{...t},...e],r={},i=[];for(let e=0;e<a.length;++e){const t=(0,n.Gf)(a[e]),o=`${a[e].latitude},${a[e].longitude}`;r[t]||r[o]||(i.push(a[e]),r[t]=e+1,r[o]=e+1)}return i}function i(e,t){if(!e||!t)return e;for(let a=0;a<e.length;++a)if((0,n.Gf)(e[a])===(0,n.Gf)(t)||e[a].latitude===t.latitude&&e[a].longitude===t.longitude){e.splice(a,1);break}return e}function o(e){if(!e)return[];const t=new Set,a=[];for(const r of e){const e=(0,n.Gf)(r);t.has(e)||(t.add(e),a.push(r))}return a}},19890:function(e,t,a){a.d(t,{n:function(){return o}});var n=a(39157),r=a(17449);const i=["RA","SN","FL","FO","TL","TH","WI","TS","AQ","FD","HW","BLIZZARD","COLD%20WAVE","DROUGHT","ICY%20ROAD","RAINSTORM","TYPHOON","GALE","DENSE%20FOG","THUNDER","SANDSTORM","FROST","HAIL","HAZE","HIGH%20TEMPERATURE"];function o(e,t,a){if(!e||!t)return"";const o=a||r.qF+r.Rb;e=e.toUpperCase().replace(" ","%20");return i.includes(e)?`https://assets.msn.${n.jG.IsChinaCompliance?"cn":"com"}/${o}/Alert_${e}_${t}.svg`:`https://assets.msn.${n.jG.IsChinaCompliance?"cn":"com"}/${o}/Alert_OT_${t}.svg`}},10388:function(e,t,a){a.d(t,{x:function(){return d}});var n=a(17449),r=a(90057),i=a(88826),o=a(7476),s=a(39157);const c={23:"HeavyDrizzle",40:"HeavyDrizzle",26:"SnowShowersDayV2",6:"BlowingHailV2",5:"CloudyV3",20:"LightSnowV2",91:"WindyV2",27:"ThunderstormsV2",10:"FreezingRainV2",77:"RainSnowV2",12:"Haze",13:"HeavyDrizzle",39:"Fair",24:"RainSnowV2",78:"RainSnowShowersNightV2",9:"FogV2",3:"PartlyCloudyDayV3",43:"IcePelletsV2",16:"IcePellets",8:"LightRainV2",15:"HeavySnowV2",28:"ClearNightV3",30:"PartlyCloudyNightV2",14:"ModerateRainV2",1:"SunnyDayV3",7:"BlowingSnowV2",50:"RainShowersNightV2",82:"LightSnowShowersNight",81:"LightSnowShowersDay",2:"MostlySunnyDay",29:"MostlyClearNight",4:"MostlyCloudyDayV2",31:"MostlyCloudyNightV2",19:"LightRainV3",17:"LightRainShowerDay",53:"N422Snow",52:"Snow",25:"Snow",44:"LightRainShowerNight",65:"HailDayV2",73:"HailDayV2",74:"HailNightV2",79:"RainShowersDayV2",89:"HazySmokeV2",90:"HazeSmokeNightV2_106",66:"HailNightV2",59:"WindyV2",56:"ThunderstormsV2",58:"FogV2",54:"HazySmokeV2",55:"Dust1",57:"Haze"},l={cloudSignals:["0","1","2","3","4"],rainSnowSignal:["0"],windSignal:["1"],wind:"xxxx1"};class d{static getWeatherGlyph(e,t){const a=function(e){return Object.prototype.hasOwnProperty.call(r.h2,e)?r.h2[e]:e}(e),i=c[a]||"",o=t||`${n.qF}${n.zf}`;return i?`https://assets.msn.${s.jG.IsChinaCompliance?"cn":"com"}/${o}${i}.svg`:""}static getWeatherGlyphBySymbol(e){const t=e&&e.trim().toLowerCase();if(!t||t.length<4)return"";if(4==t.length)return this.getIconUrl(t);if(l.cloudSignals.includes(t[1])&&l.rainSnowSignal.includes(t[2])&&l.windSignal.includes(t[4]))return this.getIconUrl(l.wind);const a=t.substring(0,4);return this.getIconUrl(a)}static getIconUrl(e){if(!e)return"";const t=r.I9[e];return t?`https://assets.msn.${s.jG.IsChinaCompliance?"cn":"com"}/${n.qF}${n.zf}${t}.svg`:""}static getWeatherGlyphBySymbolOrSkyCode(e="",t,a,n){if(n&&n.symbolMap&&Object.keys(n.symbolMap).length>0){let a=e;e.length>4&&(a=e.substring(0,4));const r=n.symbolMap[e]||n.symbolMap[a]||n.symbolMap[t];if(r&&n.iconBase)return`${n.iconBase}${r}.svg`;{const a=`symbol ${e}, skyCode: ${t}, iconMap: ${JSON.stringify(n)}`;(0,i.H)(o.qq_,"Cannot get icon url from iconmap",a)}}let r="";const s=d.getWeatherGlyphBySymbol(e);return r=s||d.getWeatherGlyph(t,a),r}}},77286:function(e,t,a){a.d(t,{E_:function(){return g},iS:function(){return v},ss:function(){return m},zc:function(){return f}});var n=a(39157),r=a(91046),i=a(7476),o=a(31558),s=a(23549),c=a(857),l=a(21921),d=a(4005),u=a(52924),p=a(92859);function h(e,t){const{ocid:a="",cvid:n=""}=e||{},r=a||(0,c.ku)();let i=n;!n&&s.M0&&s.M0.getRequestId&&"function"==typeof s.M0.getRequestId&&(i=s.M0.getRequestId());const o={...e||{},ocid:r||"",cvid:i||""};return o.locStrResolver=o.locStrResolver||t,o}function m(e,t,a,n){const r=h(n,a),i=r.linkType||1;return y(e,t,(function(e){return(0,p.LL)(i,e)}),r).toString()}function y(e,t,a,c){const u=c.locale||n.jG.LocaleContentMarketString||"en-us",h=(0,p.LL)("weather",u),m=a(u);let y,g;if(e&&(y=function(e){return e.urlSlug?e.urlSlug:(0,l.DF)(e,{skipAddressLine:!0}).slice(0,2).map((e=>null==e||"boolean"==typeof e?"":`${e}`)).map((e=>e.replace(/[/?#%\s]+/g,"-"))).map((e=>encodeURIComponent(e))).join(",")}(e),g=c.locStrResolver(e),(0,d.Cr)(e)&&s.M0&&i.hT$)){const t=new Error("seems invalid location for weather link");s.M0.sendAppErrorEvent({...i.hT$,message:t.message,pb:{...i.hT$.pb,location:{longitude:e.longitude,latitude:e.latitude},stack:(t.stack||"").slice(0,1024)}},!0)}const f=y?`/in-${y}`:"";let w;(0,o.N)()?w=document.location.href:c.locationHref&&(w=c.locationHref);let v=n.jG.NavTargetHostName;v="zh-cn"===u?v.replace("com","cn"):v,w?.includes("localhost.msn.com")&&(0,o.N)()&&(v=document.location.host);const b=new URL(`https://${v}/${u}/${h}/${m}${f}`),D=b.searchParams;return g&&D.set("loc",g),(0,p.Nn)(D,t),(0,o.N)()?(0,p.mk)((0,r.L)(),D,c):c.locationHref&&(0,p.mk)(new URL(c.locationHref).searchParams,D,c),c.ocid&&D.set("ocid",c.ocid),c.cvid&&D.set("cvid",c.cvid),c.etreeUser&&D.set("etree-user",c.etreeUser),c.etreeTaskID&&D.set("etree-task-id",c.etreeTaskID),c.content&&D.set("content",c.content),b}function g(e,t,a,n,r){const i=h(r,a),o=y(e,t,(function(e){const t=(0,p.LL)(2,e),a=n&&(0,p.LV)(n,e);return n?t+"/"+a:t+"/-"}),i),s=o.searchParams;return w(s,"zoom",i.zoom),w(s,"3d",i["3d"]&&"1"),w(s,"autoplay",i.autoplay&&"1"),w(s,"subs",i.subs),w(s,"wfid",i.wfid),o.toString()}function f(e,t,a,n){const r=y(e,t,(function(e){return(0,p.LL)(6,e)}),n=h(n,a)),i=r.searchParams;return w(i,"lifeIndex",n.lifeIndex),w(i,"day",n.day),w(i,"fct",n.fct),r.toString()}function w(e,t,a){a&&e.set(t,""+a)}function v(e,t,a,n){if(!n){const t=new Date(e.alertsInfo?.created);n=e.alertsInfo?.id+t.getTime()/1e3}const r=(0,u.lI)(e.alertsInfo.class),i=g(e.currentLocation,e.unit,t,r,a);return n?i+"&alertid="+n:i}},92859:function(e,t,a){a.d(t,{cT:function(){return x},Nn:function(){return D},LV:function(){return f},LL:function(){return g},rC:function(){return v},mk:function(){return b}});const n={weather:{es:"el-tiempo","es-es":"eltiempo",fr:"meteo",it:"meteo",de:"wetter",nl:"weer",cs:"pocasi",pt:"clima","pt-pt":"meteorologia",da:"vejr",hu:"idojaras",id:"cuaca",fi:"saa",sv:"vader",tr:"havadurumu",pl:"pogoda"},forecast:{es:"pronostico","es-es":"prevision",fr:"previsions",it:"previsioni",de:"vorhersage",nl:"voorspelling",cs:"predpoved","pt-pt":"previsao",da:"vejrudsigt",hu:"elorejelzes",id:"prakiraan",fi:"ennuste",nb:"vaermelding",sv:"prognos",tr:"havadurumutahmini",pl:"prognoza"},maps:{cs:"mapy",da:"kort",de:"karten",es:"mapas",fi:"kartat",fr:"cartes",id:"peta",it:"mappe",nb:"kart",nl:"kaarten",pl:"mapy-pogody",pt:"mapas",sv:"vaderkartor",tr:"haritalar"},monthlyforecast:{da:"manedligprognose",de:"monatlicheprognose",es:"pronosticomensual",fi:"kuukaudenennuste",fr:"previsionsmensuelles",id:"prakiraanbulanan",it:"previsionimensili",nb:"manedligprognose",nl:"maandelijksevoorspelling",pl:"prognozamiesieczna",pt:"previsaomensal",sv:"manadsprognos",tr:"ayliktahmin"},records:{cs:"rekordniaprumerne",da:"rekorder",de:"historisches","de-ch":"rekorde",fi:"Tilastot",hu:"rekordok",id:"catatan",it:"record",nb:"rekorder",pl:"rekordowe",sv:"medeltemperaturer",tr:"mevsim-normalleri","pt-pt":"recordes"},life:{da:"livet",de:"leben",es:"lavida",fi:"elama",fr:"vie",hu:"elet",id:"kehidupan",it:"vita",nb:"liv",nl:"leven",pl:"zycie",pt:"vida",sv:"liv",tr:"hayat"},pollen:{es:"polen",fi:"siitepoly",id:"serbuksari",it:"polline",nl:"stuifmeel",pl:"pylekkwiatowy",pt:"polen",tr:"polen"},hourlyforecast:{da:"timeprognose",de:"stundlichevorhersage",es:"previsionhoraria",fi:"tuntiennuste",fr:"previsionhoraire",id:"prakiraanperjam",it:"previsioniorarie",nb:"prognosepertime",nl:"voorspellingperuur",pl:"prognozagodzinowa",pt:"previsaohoraria",sv:"timprognos",tr:"saatliktahmin"}},r="orkaner",i="temperatur",o="synlighet",s="vind",c="vento",l="snofall",d={radar:{fi:"tutka"},hurricane:{cs:"hurikany",da:r,nb:r,sv:r,de:"hurrikane",es:"huracanes",fr:"ouragans",id:"hurikan",it:"uragani",nl:"orkanen",pl:"huragany",pt:"hurricanes",tr:"kasirgalar"},severeweather:{fi:"huonosaa",id:"cuacaburuk",nl:"slechtweer",sv:"ovader"},temperature:{cs:"teplota",da:i,de:i,nb:i,sv:i,fi:"lampotila",id:"suhu",tr:"sicaklik"},precipitation:{cs:"srazky",da:"nedbor",nb:"nedbor",id:"curahhujan",nl:"neerslag",pl:"opady",sv:"nederbord",tr:"yagis"},wildfire:{cs:"lesnipozar",da:"skovbrand",de:"waldbrand",fi:"maastopalo",fr:"feuforet",id:"kebakaran",nb:"skogbrann",pl:"pozar",sv:"skogsbrand"},wind:{cs:"vitr",da:s,nb:s,sv:s,es:"viento",fi:"tuuli",fr:"vent",id:"angin",it:c,pt:c,pl:"wiatr",tr:"ruzgar"},cloud:{cs:"oblacnost",da:"sky",nb:"sky",de:"bewolkung",es:"nube",fi:"pilvi",fr:"nuages",id:"awan",it:"nuvolosita",nl:"bewolking",pt:"nublado",sv:"moln",tr:"bulut"},pressure:{cs:"tlak",da:"lufttryk",de:"druck",fi:"ilmanpaine",fr:"pression",id:"tekanan",it:"pressione",nb:"trykk",nl:"druk",sv:"tryck"},humidity:{cs:"vlhkost",es:"humedad",id:"kelembapan",nb:"fuktighet",pt:"umidade",tr:"nemlilik"},visibility:{da:"synlighed",nb:o,sv:o,nl:"zicht"},dewpoint:{cs:"rosnybod",da:"dugpunkt",de:"taupunkt",fi:"kastepiste",nb:"duggpunkt",nl:"dauwpunt"},winterstorm:{cs:"zimniboure"},airquality:{fi:"ilmanlaatu",fr:"qualiteair"},snowdepth:{cs:"vyskasnehu",nb:"snodybde",pt:"alturaneve",sv:"snodjup"},snowfall:{cs:"snezeni",da:"snefald",de:"schnee",fi:"lumisade",fr:"chuteneige",id:"curahsalju",it:"nevicata",nb:l,sv:l,nl:"sneeuwval",pt:"quedaneve",tr:"karyagisi"},airqualitystation:{},ski:{es:"esquiar",fi:"laskettelu",it:"sci",pl:"narty",pt:"esqui",sv:"skida",tr:"kayak"},pollen:n.pollen,pollenindex:{},etree:{},earthquake:{},lightning:{},lightningthunderstormradar:{},lightningthunderstormprecip:{},lightningradar:{},lightningprecip:{},thunderstormradar:{},thunderstormprecip:{},lightningonlyradar:{},lightningonlyprecip:{},radarltntstm:{},radarltn:{},radartstm:{},radaronly:{},precipltntstm:{},precipltn:{},preciptstm:{},preciponly:{}};var u=a(95379);var p=a(39157),h=a(49915);const m={};function y(e){e&&!m[e]&&(m[e]=e.split("-")[0]);return m[e]}function g(e,t=p.jG.CurrentMarket){const a="string"==typeof e?e:{1:"forecast",4:"records",3:"monthlyforecast",6:"life",5:"pollen",2:"maps",7:"hourlyforecast"}[e],r=n[a];return r&&(r[t]||r[y(t)])||a}function f(e,t){const a=d[e];return a&&(a[t]||a[y(t)])||e}(e=>{const t=Object.keys(d),a=new Map})(p.jG.CurrentMarket);const w={F:u.a.Fahrenheit,C:u.a.Celsius,f:u.a.Fahrenheit,c:u.a.Celsius};function v(e){if(e){const t=(0,h.Ol)(e,"weadegreetype",["weaDegreeType"]);return t&&w[t]||void 0}}function b(e,t,a){if(t&&e){if(!a||!a.excludeItem){const a=e.getAll("item");for(let e=0;e<a.length;++e)t.append("item",a[e])}if(!a||!a.excludeOcid){const a=(0,h.ku)(e);a&&t.set("ocid",a)}if(!a||!a.cvid){const a=e.get("cvid");a&&t.set("cvid",a)}}return t||void 0}function D(e,t){const a=function(e){return["","F","C"][e||0]||""}(t);return a&&e&&e.set("weadegreetype",a),e}function x(e,t,a){if(!e)return e;try{const n=new URL(e);return n.searchParams.set(t,a),n.href}catch(t){return e}}}}]);